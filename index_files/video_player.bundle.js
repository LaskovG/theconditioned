webpackJsonp([4,1,5],Array(20).concat([function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(21),r(22),r(105),r(46),r(108),r(106),r(1),r(6),r(8),r(107),r(17),r(104)],o=function(e,t,r,n,o,a,s,u,d,l,c,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),d.ENVIRONMENT.SDK_FULL_VERSION.indexOf(":adsdk")===-1&&(d.ENVIRONMENT.SDK_FULL_VERSION+=":adsdk"),t.initPlacement=function(e,t,r){a["default"].load(e).then(function(r){t(new o["default"](e,r))})["catch"](function(e){l.trackError(e),f.fireCallback(r,e)})},t.initAdDisplay=function(e,r,o,i){var a=f.getElement(r);if(!a)throw new Error("AdSDK Error: initAdDisplay: unresolved video element:"+r);var s=f.getElement(o);if(!s)throw new Error("AdSDK Error: initAdDisplay: unresolved video wrapper element:"+o);t.initPlacement(e,function(){f.fireCallback(i,new n["default"](e,a,s))},i)};var h=function(){function e(e,t,o,i,a){var u=this;this.config=e,this.videoNode=t,this.videoWrapperNode=o,this.isDestroyed=!1,this.callbacks={onInit:i,onError:a},r.AdLoader.create(this.config).then(function(e){u.adLoader=e,u.displayController=new n["default"](u.config,u.videoNode,u.videoWrapperNode),u.publicController=new s["default"](u.displayController),u.displayController.onDestroy.add(function(){u.isDestroyed=!0}),u.startWatchingVideoForAd(),f.fireCallback(i,u.publicController)})["catch"](function(e){l.trackError(e),f.fireCallback(a,e)})}return e.prototype.loadAndShowBlock=function(e){var t=this,r=e.adType;return this.isDestroyed?i.reject(new Error("AdSDK were destroyed before loading ad ["+r+"]")):this.adLoader.load(e).then(function(e){return t.isDestroyed?i.reject(new Error("AdSDK were destroyed while loading ad ["+r+"]")):t.displayController.showAd(e)})},e.prototype.startWatchingVideoForAd=function(){var e=this,t=this.adLoader.getPrerollBlock(),r=this.adLoader.getMidrollBlocks().sort(function(e,t){return e.startTime-t.startTime}),n=this.adLoader.getPostrollBlock(),o=!1,a=this.displayController.videoNodeController,s=a.getPaused()?a.onPlay.promise():i.resolve(void 0);return s.then(function(){var r=a.getCurrentTime();return t&&r<=u.PREROLL_THRESHOLD&&!e.isDestroyed?(e.pauseVideo(),e.loadAndShowBlock(t)):i.resolve()})["catch"](function(t){l.trackError(t),f.fireCallback(e.callbacks.onError,t)}).then(function(){e.playVideo()}).then(function(){if(e.isDestroyed)return i.resolve();var s=new p["default"];s.start(),e.displayController.onDestroy.add(function(){s.destroy()});var u=!1,d=!1,l=function(e){u||("play"===e?s.start():s.stop())};return a.onPlayingStateChange.add(l),s.add(1e4).then(function(){c.pushToStatistics("PlaybackTenSeconds",{config:e.config,preroll:t,midrolls:r,postroll:n})}),i.race([new i(function(e){a.onEnd.add(function(){u||(u=!1,o=!0,s.stop(),e())})}),e.displayController.onDestroy.promise(),new i(function(t,n){r.forEach(function(t){return s.add(1e3*t.startTime).then(function(){return d?i.reject(new Error("AdSDK JS Error: midrolls already ended")):(u=!0,s.stop(),e.loadAndShowBlock(t))})["catch"](n).then(function(){return e.playVideo(),s.start(),u=!1,i.resolve()})})})])["catch"](function(e){return a.onPlayingStateChange.remove(l),d=!0,i.reject(e)}).then(function(){return a.onPlayingStateChange.remove(l),d=!0,i.resolve()})})["catch"](function(t){l.trackError(t),f.fireCallback(e.callbacks.onError,t)}).then(function(){return o?i.resolve():a.onEnd.promise()}).then(function(){return n&&!e.isDestroyed?(e.pauseVideo(),e.loadAndShowBlock(n)):i.resolve()})["catch"](function(t){l.trackError(t),f.fireCallback(e.callbacks.onError,t)}).then(function(){if(e.pauseVideo(),e.displayController.videoNodeController.setCurrentTime(0),!e.isDestroyed){var t=e.publicController.onFulfilled;"function"==typeof t&&t(),e.startWatchingVideoForAd()}})["catch"](function(t){l.trackError(t),f.fireCallback(e.callbacks.onError,t)})},e.prototype.playVideo=function(){this.displayController.videoNodeController.play()},e.prototype.pauseVideo=function(){this.displayController.videoNodeController.pause()},e}();t.AdSDK=h,t.initForVideoNode=function(e,t,r,n,o){var i=f.getElement(t);if(!i)throw new Error("AdSDK JS Error: Unresolved Node in second param:"+t);var a=f.getElement(r);if(!a)throw new Error("AdSDK JS Error: Unresolved Node in third param:"+t);new h(e,i,a,n,o)},t.initVideoNode=function(e,r,n,o){t.initForVideoNode(e,r,n,o,o)}}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(22),r(46),r(90),r(95),r(104)],o=function(e,t,r,n,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){var n;this.showAd=function(e,o,a){void 0===a&&(a={}),n=new r["default"](a,e,o);var s=function(){return n.destroy()};return n.showAd(t).then(s)["catch"](function(e){return s(),i.reject(e)})},this.getAdDuration=function(){return t.getDuration()},this.separateAdPods=function(){return t.mediaAds.map(function(t){return new e(new a.MediaAds([t]))})},this.getAdSourceTypes=function(){return t.mediaAds.map(function(e){var t=e.contentType;return t}).filter(function(e,t,r){return r.indexOf(e)===t})},this.destroy=function(){return n.destroy()}}return e}(),u=function(){function e(){}return e.create=function(t,r){void 0===r&&(r=!1);var o=new e;return o.adConfig=t,r?o.whenBlockInfoLoaded=i.resolve(n["default"].createPrerollBlockInfo()):o.whenBlockInfoLoaded=n["default"].load(t),o.whenBlockInfoLoaded.then(function(e){return o.blockInfo=e,o})},e.prototype.load=function(e){var t=this;return this.whenBlockInfoLoaded.then(function(){return o.loadAd(t.adConfig,e||t.getPrerollBlock())})},e.prototype.loadAd=function(e){var t=this;return this.whenBlockInfoLoaded.then(function(){return o.loadAd(t.adConfig,e||t.getPrerollBlock())}).then(function(e){return new s(e)})},e.prototype.getPrerollBlock=function(){return this.getBlocks().filter(function(e){return"preroll"===e.adType})[0]},e.prototype.getPostrollBlock=function(){return this.getBlocks().filter(function(e){return"postroll"===e.adType})[0]},e.prototype.getMidrollBlocks=function(){return this.getBlocks().filter(function(e){return"midroll"===e.adType})},e.prototype.getBlocks=function(){return this.blockInfo.blocks},e}();t.AdLoader=u}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise,a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t,r(23),r(25),r(39),r(40),r(41),r(18),r(42),r(43),r(89),r(17),r(44),r(46),r(49),r(64),r(70),r(73),r(37),r(77),r(82),r(87)],o=function(e,t,r,n,o,s,u,d,l,c,p,f,h,v,y,m,g,E,A,w,T,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=1e3,S=400,k=function(e){function t(t,r,i){var a=e.call(this,i)||this;a.qualityLevel=0,a.onPlayRequest=new d["default"],a.onCurrentPositionChange=new d["default"],a.viewersList=[],a.partnerIdAndCategory={},a.volumeChangingIntervalId=0,a.config=n.extractAdDisplayConfig(t),a.videoNode=r,p.trackTns(a.config.partnerId);var s=r.volume;return a.savedVolume=s?s:o.DEFAULT_VOLUME,a.partnerIdAndCategory={partnerId:a.config.partnerId,category:a.config.category},a.desiredBitrate=t.desiredBitrate,a.videoNodeController=new w["default"](r),t.qualityLevel&&(a.qualityLevel=t.qualityLevel),a.onAdEnd.add(function(){return a.setVisibleNativeControls(!0)}),a.onReady.add(function(){return a.setVisibleNativeControls(!1)}),a.gui=a.addGui(),a.onAdMediaStart.add(function(){r.style.cursor=a.getCurrentClickability()?"pointer":"default"}),a.onAdMediaEnd.add(function(){r.style.cursor="default"}),a.onCurrentPositionChange.add(function(e){var t=e.currentTime,r=e.duration;if(a.currentViewer){var n=a.config.showSkipButton&&t>=a.currentViewer.playbackParams.skipDelay&&a.currentViewer.playbackParams.skipDelay>0,o=r-t,i=Math.floor(o/60),s=Math.floor(a.currentViewer.playbackParams.skipDelay-t),u=Math.floor(o-60*i);a.gui.controls.skipTimeLeft.setVisible(!n),a.gui.controls.skip.setVisible(n),n||a.gui.controls.skipTimeLeft.setText("&#1055;&#1088;&#1086;&#1087;&#1091;&#1089;&#1090;&#1080;&#1090;&#1100; &#1088;&#1077;&#1082;&#1083;&#1072;&#1084;&#1091;: "+s+" &#1089;&#1077;&#1082;");var d=void 0;d=isNaN(u)?"":" "+(u<10?"0"+u:u),a.gui.controls.timeLeft.setText("&#1056;&#1077;&#1082;&#1083;&#1072;&#1084;&#1072;"+d)}}),a.onDestroy.add(function(){a.isFinished=!0,a.gui.wrapper.hide(),a.onPlayRequest.removeAll(),a.onCurrentPositionChange.removeAll(),a.currentViewer&&a.currentViewer.destroy(),a.videoNodeController.destroy(),clearInterval(a.volumeChangingIntervalId),a.gui.destroy(),a.revertVideoState()}),a}return a(t,e),t.prototype.getPartnerIdAndCategory=function(){return this.partnerIdAndCategory},t.prototype.showAd=function(e){var t=this,r=e.getFirstMediaAd().block,n=r.adType?r.adType:"preroll";return e.mediaAds.length?(this.isFinished=!1,this.viewersList=e.mediaAds.map(function(e){return t.createViewer(e)}),new i(function(e,r){t.emitAdEnd=e,t.onBeforeAdStart.trigger({adType:n}),t.initialVideoState=new T["default"](t.videoNode,"midroll"===n),t.videoNode.loop=!1;var o=t.viewersList[0];o.onReady.addOne(function(){return t.onReady.trigger(void 0)}),o.once("start",function(){return t.onAdStart.trigger({adType:n})}),t.viewersList.forEach(function(e){t.reemit(e,["start","resume","muteChange","pause","impression"]),e.on("skip",function(){return t.onAdSkipped.trigger({adType:n})}),e.once("start",function(){return t.onAdMediaStart.trigger({viewer:e,adType:n})}),e.onCurrentPositionChange.add(function(e){var r=e.currentTime;t.onCurrentPositionChange.trigger({currentTime:t.getCurrentViewerStartTime()+r,duration:t.duration})}),e.onClickThrough.add(function(e){return t.onClickThrough.trigger(e)})});var a=t.playAdMedia(t.viewersList[0]).then(function(){return t.onAdMediaEnd.trigger({adType:n})});t.viewersList.forEach(function(e,r){r>0&&(a=a.then(function(){return t.isFinished?i.resolve():t.playAdMedia(e).then(function(){return t.onAdMediaEnd.trigger({adType:n}),i.resolve()})}))}),a.then(e)["catch"](function(e){t.onAdMediaEnd.trigger({adType:n}),t.isFinished=!0,r(e)})})["catch"](function(e){return e||new Error("AdSDK JS Error: Unresolved error in showAd method")}).then(function(e){return t.revertVideoState(),t.onAdEnd.trigger({error:e,adType:n}),e?i.reject(e):i.resolve(void 0)})):i.reject(new Error("AdSDK JS Error: no MediaAds in AdDisplayController received parameters"))},t.prototype.getAdConfigForFlash=function(){var e=this.currentViewer;return e?e.mediaAd.block:h.createBlock(v.DEFAULT_BLOCK_COMMON_PARAMETERS)},t.prototype.getClickThroughURL=function(){if(this.currentViewer)return this.currentViewer.mediaAd.clickThroughUrl;if(this.viewersList.length)return this.viewersList[0].mediaAd.clickThroughUrl;throw new Error("AdSDK JS Error: Cannot get clickThroughUrl")},t.prototype.setMuted=function(e,t){void 0===t&&(t=!1),this.setVolume(e?0:this.savedVolume,t)},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r="normal");var n=this.currentViewer;n&&n.resizeAd(e,t,r)},t.prototype.clickThrough=function(e){this.currentViewer&&this.currentViewer.clickThrough(e)},t.prototype.play=function(e){return void 0===e&&(e=!0),e&&this.onPlayRequest.trigger(void 0),this.currentViewer?this.currentViewer.play(e):i.reject(new Error("AdSDK Error: play request without AdMedia"))},t.prototype.pause=function(){this.currentViewer&&this.currentViewer.pause()},t.prototype.resume=function(){this.currentViewer&&this.currentViewer.resume()},t.prototype.skip=function(e){this.currentViewer&&this.currentViewer.getSkippable()&&(this.currentViewer.skip(e),this.stop()),this.currentViewer||this.stop()},t.prototype.stop=function(){this.isFinished=!0,this.emit("stop"),this.emitAdEnd&&this.emitAdEnd()},t.prototype.getAdWidth=function(){return this.currentViewer?this.currentViewer.getAdWidth():0},t.prototype.getAdHeight=function(){return this.currentViewer?this.currentViewer.getAdHeight():0},t.prototype.trackEvent=function(e){this.currentViewer&&this.currentViewer.trackEvent(e)},t.prototype.trackEventForAllViewers=function(e){this.viewersList.forEach(function(t){t.trackEvent(e)})},t.prototype.getCurrentContentType=function(){return this.currentViewer?this.currentViewer.contentType:void 0},t.prototype.getCurrentTime=function(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0},t.prototype.getDuration=function(){var e=0;return this.viewersList.forEach(function(t){e+=t.getDuration()}),e},t.prototype.getPaused=function(){return!this.currentViewer||this.currentViewer.getPaused()},t.prototype.getVolume=function(){var e=this.currentViewer;return e?e.getVolume():0},t.prototype.setVolume=function(e,t){if(void 0===t&&(t=!1),t)this.setVolumeSlowly(e);else{var r=this.currentViewer;r&&r.setVolume(e)}},t.prototype.getAutoplay=function(){var e=void 0===this.config.autoplay||this.config.autoplay;return e||this.getCurrentViewerIndex()>0},t.prototype.setVisibleNativeControls=function(e){e?this.nativeControlsHidder&&c.removeNodeFromParent(this.nativeControlsHidder):(this.videoNode.controls=!1,this.nativeControlsHidder||(this.nativeControlsHidder=document.createElement("style"),this.nativeControlsHidder.innerHTML="\n                    #"+this.videoNode.id+"::-webkit-media-controls{\n                        display: none !important;\n                    }\n                "),document.head.appendChild(this.nativeControlsHidder))},t.prototype.getCurrentClickability=function(){if(this.currentViewer){if("video"!==this.currentViewer.contentType)return!1;var e=this.currentViewer.playbackParams,t=e.isClickable,r=e.visitSiteShow;return t&&!r}return!1},t.prototype.getCurrentSrc=function(){return this.currentViewer?this.currentViewer.getSrc():""},t.prototype.getMuted=function(){var e=this.currentViewer;return!e||0===e.getVolume()},t.prototype.setVolumeSlowly=function(e){var t=this;clearInterval(this.volumeChangingIntervalId);var r=Date.now(),n=this.getVolume(),o=e<n,i=o?b:S,a=i*Math.abs(n-e);0!==a&&(this.volumeChangingIntervalId=setInterval(function(){var i=(Date.now()-r)/a;t.setVolume(o?Math.max(e,(1-i)*(n-e)):Math.min(e,i*(e-n))),i>=1&&clearInterval(t.volumeChangingIntervalId)},20))},t.prototype.toggleMute=function(e){void 0===e&&(e=!1),this.setMuted(!this.getMuted(),e)},t.prototype.revertVideoState=function(){this.initialVideoState&&(this.initialVideoState.applyTo(this.videoNode),delete this.initialVideoState)},t.prototype.trackError=function(e){this.currentViewer&&this.currentViewer.trackError(e)},t.prototype.addGui=function(){var e=this,t=new g["default"](this.wrapperNode),n=t.wrapper,o=t.controls;return f.isIOS7()&&(n.el.style.display="none"),r.isTouchDevice&&n.addClass("yaAdSdkGui-mobile"),o.play.setVisible(!this.getAutoplay()),this.on("pause",function(){o.play.show()}).on(["start","resume"],function(){o.play.hide()}).once("playAdMedia",function(){o.play.setVisible(!e.getAutoplay()||f.isIPhone()||f.isAndroid())}),r.isTouchDevice?this.on(["start","resume"],function(){e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed&&o.pause.show()}):(this.onChangeHover.add(function(t){t?e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed&&!o.play.isVisible&&!o.unmuteInviter.isVisible&&o.pause.show():o.pause.hide()}),this.on(["start","resume"],function(){e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed&&e.isHovered&&o.pause.show()})),this.on({pause:function(){return o.pause.hide()}}),t.on({click:function(){return e.clickThrough()},pause:function(){return e.pause()},play:function(){"video"===e.currentContentType?l.muffleUncaughtErrors(e.videoNode.play()):e.play()},skip:function(){return e.skip()}}),t.onMuteButtonClick.add(function(){e.toggleMute()}),t.onUnmuteInviterAction.add(function(){e.toggleMute(!0)}),this.once("playAdMedia",function(){t.addSkin(),e.getCurrentClickability()?n.addClass("pointer"):n.removeClass("pointer")}),this.onAdEnd.add(function(){return t.hide()}),this.on("muteChange",function(e){return t.setMuted(e)}),this.onAdMediaStart.add(function(n){var i=n.viewer,a=i.contentType,s=i.playbackParams,u=s.showGuiForVpaid,d=s.minimalGui,l=s.showSkipTimeLeft,c=s.showTimeLeft,p=s.title,h=s.showSoundButton,v=s.isClickable,y=s.visitSiteShow,m=s.showTitle;"video"===a||"js"===a&&u?t.show():o.unmuteInviter.isVisible||t.hide(),t.topRightBlock.className=d?"topRightBlockMinimal":"topRightBlock",o.skip.setBlocked(Boolean(d)),o.skipTimeLeft.setBlocked(d||!l),o.timeLeft.setVisible(c),o.title.setText(p).setVisible(m&&Boolean(p)&&!d),o.mute.setVisible(!f.isIOS9OrLess()&&h&&(r.isTouchDevice||!d)),o.visitSite.setVisible(Boolean(v&&y)),t.setMuted(e.getMuted())}),this.onBeforeAdStart.add(function(){return t.show()}),t},t.prototype.getCurrentViewerIndex=function(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0},t.prototype.playAdMedia=function(e){var t=this;return this.currentViewer=e,new i(function(r,n){var o=e.playbackParams,i="video"===e.contentType,a=i?o.videoTimeout:o.vpaidTimeout,s=i?u["default"].VIDEO_TIMEOUT:u["default"].VPAID_START_TIMEOUT,d=!0,l=function(){return t.onPlayRequest.addOne(function(){if(!e.isStarted){var r=setTimeout(function(){if((f.isIPhone()||f.isAndroid())&&d)d=!1,l();else{var r=new u["default"]("Timeout of "+e.contentType+": "+a/1e3+"s: "+t.getCurrentSrc(),s);t.trackError(r),n(r)}},a);e.once(["start","resume"],function(){return clearTimeout(r)})}})};l(),t.emit("playAdMedia"),t.play(t.getAutoplay()).then(r)["catch"](n)}).then(function(){t.currentViewer=void 0,e.destroy()})["catch"](function(r){return t.trackError(r),t.currentViewer=void 0,e.destroy(),i.reject(r)})},t.prototype.getCurrentViewerStartTime=function(){for(var e=this.getCurrentViewerIndex(),t=0,r=0;r<e;r++)t+=this.viewersList[r].getDuration();return t},t.prototype.createViewer=function(e){var t=e.playbackParams,r=this.config;this.config.trackingEvents&&(e.vastAd.trackingEvents=A.mergeTrackingEvents(e.vastAd.trackingEvents,this.config.trackingEvents));var n;switch(e.contentType){case"js":n=new E["default"](this,e);break;case"video":n=new _["default"](this,e);break;case"flash":n=new m["default"](this,e);break;default:throw new Error("AdSDKJS Error: Unresolved content type of mediaAd: "+e.contentType)}return r.numruns&&n.setNumRepeats(r.numruns),e.vastAd.isDirectVPAID?n.impressionTrackOffset=s.DIRECT_IMPRESSION_TRACK_OFFSET:void 0!==r.impressionOffset&&(n.impressionTrackOffset=r.impressionOffset),r.minimalGui===!0&&(t.minimalGui=!0),void 0!==r.showTimeLeft&&(t.showTimeLeft=r.showTimeLeft),void 0!==r.visitSiteShow&&(t.visitSiteShow=r.visitSiteShow),void 0!==r.showSoundButton&&(t.showSoundButton=r.showSoundButton),void 0!==r.showSkipButton&&(t.showSkipButton=r.showSkipButton),void 0!==r.showSkipTimeLeft&&(t.showSkipTimeLeft=r.showSkipTimeLeft),void 0!==r.showTitle&&(t.showTitle=r.showTitle),void 0!==r.pauseAllowed&&(t.pauseAllowed=r.pauseAllowed),r.pauseOnClickThrough===!1&&(t.pauseOnClickThrough=!1),r.showGuiForVpaid===!0&&(t.showGuiForVpaid=!0),"number"==typeof r.skipDelay&&(t.skipDelay=r.skipDelay),"number"==typeof r.bufferFullTimeout&&(t.bufferFullTimeout=r.bufferFullTimeout),n},t}(y.DisplayController);t["default"]=k}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(24)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=r.isTouchDevice()}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(){if(window){var e=window.navigator;return"ontouchstart"in window||e.maxTouchPoints>0||e.msMaxTouchPoints>0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(26),r(17),r(36)],o=function(e,t,r,n,o){"use strict";function i(e){return n.merge(o.extractAdConfig(e),r.extractPlaybackParams(e),{numruns:void 0!==e.numruns?Number(e.numruns):void 0,impressionOffset:void 0!==e.impressionOffset?Number(e.impressionOffset):void 0,desiredBitrate:void 0!==e.desiredBitrate?Number(e.desiredBitrate):void 0,clickThroughCallback:"function"==typeof e.clickThroughCallback?e.clickThroughCallback:void 0})}Object.defineProperty(t,"__esModule",{value:!0}),t.extractAdDisplayConfig=i}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(27),r(17)],o=function(e,t,r,n){"use strict";function o(e){var t="number"==typeof e.bufferFullTimeout?Math.min(e.bufferFullTimeout,r.MAX_TIMEOUT_VALUE):void 0;return n.merge(i(e),{isClickable:"isClickable"in e?Boolean(e.isClickable):void 0,title:"string"==typeof e.title?e.title.trim():void 0,description:"string"==typeof e.description?e.description:void 0,skipTimeLeftShow:"skipTimeLeftShow"in e?Boolean(e.skipTimeLeftShow):void 0,skipDelay:"number"==typeof e.skipDelay?e.skipDelay:void 0,showTimeLeft:void 0===e.showTimeLeft?void 0:Boolean(e.showTimeLeft),showSoundButton:void 0===e.showSoundButton?void 0:Boolean(e.showSoundButton),showTitle:void 0===e.showTitle?void 0:Boolean(e.showTitle),showSkipButton:void 0===e.showSkipButton||Boolean(e.showSkipButton),showGuiForVpaid:"showGuiForVpaid"in e?Boolean(e.showGuiForVpaid):void 0,videoTimeout:"videoTimeout"in e?Number(e.videoTimeout):void 0,vpaidTimeout:"vpaidTimeout"in e?Number(e.vpaidTimeout):void 0,bufferFullTimeout:t,bufferEmptyLimit:"bufferEmptyLimit"in e?Number(e.bufferEmptyLimit):void 0,progressOffset:"progressOffset"in e?Number(e.progressOffset):void 0})}function i(e){return{autoplay:"autoplay"in e?Boolean(e.autoplay):void 0,pauseAllowed:"pauseAllowed"in e?Boolean(e.pauseAllowed):void 0,pauseOnClickThrough:void 0===e.pauseOnClickThrough||Boolean(e.pauseOnClickThrough),minimalGui:"minimalGui"in e?Boolean(e.minimalGui):void 0,visitSiteShow:"visitSiteShow"in e?Boolean(e.visitSiteShow):void 0,qualityLevel:"qualityLevel"in e?Number(e.qualityLevel):void 0,poster:"string"==typeof e.poster?String(e.poster):void 0,showGuiForVpaid:"showGuiForVpaid"in e?Boolean(e.showGuiForVpaid):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.extractPlaybackParams=o,t.extractConfigurablePlaybackParams=i}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_TIMEOUT_VALUE=2147483647}.apply(t,n),!(void 0!==o&&(e.exports=o))},,,,,,function(e,t,r){var n,o;n=[r,t,r(35),r(20),r(66),r(34),r(6),r(109),r(17),r(20)],o=function(e,t,r,n,o,i,a,s,u){"use strict";function d(e,t,o,d){function p(e){v||"function"!=typeof d||d({success:!0,ref:h,playerApi:e}),v=!0}function f(e){v||"function"!=typeof d||d({success:!0,ref:h,adError:e}),v=!0}var h,v=!1,y=t.onAdStart,m=t.onAdEnd,g=t.onAdStateChange,E=t.onStateChange,A=t.onCurrentTimeChange,w=y?i.getGlobalStringMethod(y,a.trackError)||s.noop:s.noop,T=m?i.getGlobalStringMethod(m,a.trackError)||s.noop:s.noop,_=g?i.getGlobalStringMethod(g,a.trackError)||s.noop:s.noop,b=E?i.getGlobalStringMethod(E,a.trackError)||s.noop:s.noop,S=A?i.getGlobalStringMethod(A,a.trackError)||s.noop:s.noop,k=function(e){w(e),_(e,r.VideoPlayingState.PLAY)},C=function(e){T(e),_(e,r.VideoPlayingState.END)};1===parseInt(t.new_html5_player||"",10)?(o&&!t.noAd&&(t.adConfig=o),t.callbacks={onAdStart:k,onAdEnd:C,onStateChanged:function(e){switch(e){case"videoPlaying":b(r.VideoPlayingState.PLAY);break;case"videoPaused":b(r.VideoPlayingState.PAUSE);break;case"end":b(r.VideoPlayingState.END)}},onCurrentTimeChanged:S},ya.videoPlayer.createPlayer(e,t,function(t){h=e.getElementsByTagName("video")[0],p(t)})):(h=u.createVideoNode(e,Array.isArray(t.sources)?t.sources:t.url,t.previewUrl,t.autoplay),h.width=l,h.height=c,h.controls=!0,void 0!==t.preload&&(h.preload=t.preload),o&&o.partnerId&&!t.noAd?new n.AdSDK(o,h,e,function(e){e.onAdStart=k,e.onAdEnd=C,p()},f):p())}Object.defineProperty(t,"__esModule",{value:!0});var l,c,p="11.2",f=["adult","autoplay","login","storage_directory","tnsCount","is-hq","noAd","hidden","allow-seek","lang","stream-id","link","logo","storage_url_prefix","clip_storage_url_prefix","related_url_prefix","videopage_url_prefix","player_url_prefix","token_url_prefix","quality","watermark","onReady","onStateChange","onAdStateChange","onAdSkipped","onCurrentTimeChange"];t.addVideoPlayer=function(e,t,n,h){var v=u.getElement(e);if(!v)throw new Error("AdSDK VideoPlayer Error: unresolved container element:"+e);if(l=v.clientWidth,c=v.clientHeight,t.noFlash)return void d(v,t,n,h);var y=t.onStateChange,m=y?i.getGlobalStringMethod(y,a.trackError)||s.noop:s.noop,g=function(e){switch(e){case"preloading":m(r.VideoPlayingState.BUFFERING);break;case"end":m(r.VideoPlayingState.END);break;case"pause":m(r.VideoPlayingState.PAUSE);break;case"play":m(r.VideoPlayingState.PLAY)}},E="onStateChange"+Math.floor(1e11*Math.random());ya.videoAd.flashPlayerCallbacks[E]=g;var A="window.ya.videoAd.flashPlayerCallbacks."+E;t.onStateChange=A,o.checkForFlashPlayer().then(function(e){if(e){var r=t.login&&t.storage_directory,i=t.new_flash_player||r?"13_102":"13_101",a="kinopoisk-trailers"===t.login||t.url?"kinoplayer":"videoplayer";o.loadSWFUrlByPackageAndBuild(a,i).then(function(e){var r={"player-id":v.id,hidden:"logo"},i={id:v.id,name:v.id,bgcolor:"#000000",background:"#000000",width:l,height:c},a={movie:e,allowfullscreen:"true",bgcolor:"#000000",allowscriptaccess:"always",wmode:t.wmode||"window"};void 0!==t.url&&(r.url=encodeURIComponent(t.url)),void 0!==t.previewUrl&&(r["preview-url"]=encodeURIComponent(t.previewUrl)),void 0!==t.iframeUrl&&(r["iframe-url"]=encodeURIComponent(t.iframeUrl)),void 0!==t.pageUrl&&(r["page-url"]=encodeURIComponent(t.pageUrl));for(var s in t)t.hasOwnProperty(s)&&f.indexOf(s)>-1&&(r[s]=t[s]);n&&!r.noAd?o.adConfigToFlashvars(n,r):r.noAd=!0,swfobject.embedSWF(e,v.id,""+l,""+c,p,void 0,r,a,i,h)})["catch"](function(e){return u.fireCallback(h,e)})}else d(v,t,n,h)})}}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(e,t){try{var r=e.split(".").reduce(function(e,t){return e[t]},window);if("function"==typeof r)return r}catch(n){var o=n.message;n.message="getGlobalStringMethod error ["+o+"]","function"==typeof t&&t(n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalStringMethod=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(r=t.VideoPlayingState||(t.VideoPlayingState={}))}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(37),r(17)],o=function(e,t,r,n){"use strict";function o(e){return{partnerId:void 0===e.partnerId?void 0:Number(e.partnerId),category:void 0===e.category?void 0:Number(e.category),duration:void 0===e.duration?void 0:Number(e.duration)}}function i(e){return{width:void 0===e.width?void 0:Number(e.width),height:void 0===e.height?void 0:Number(e.height),playerInfo:void 0===e.playerInfo?void 0:String(e.playerInfo),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?e.videoGenreId.map(Number):void 0===e.videoGenreId?void 0:Number(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?e.videoGenreName.map(String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:Number(e.musicArtistId),tagsList:Array.isArray(e.tagsList)?e.tagsList.map(String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef)}}function a(e){var t=o(e),a=i(e);return n.merge(t,a,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:void 0===e.vast?void 0:String(e.vast),adFoxUrl:void 0===e.adFoxUrl?void 0:String(e.adFoxUrl),adFoxUrlVast:void 0===e.adFoxUrlVast?void 0:String(e.adFoxUrlVast),adFoxUrlMidRoll:void 0===e.adFoxUrlMidRoll?void 0:String(e.adFoxUrlMidRoll),adFoxUrlPauseRoll:void 0===e.adFoxUrlPauseRoll?void 0:String(e.adFoxUrlPauseRoll),adFoxUrlPostRoll:void 0===e.adFoxUrlPostRoll?void 0:String(e.adFoxUrlPostRoll),inpage:void 0===e.inpage?void 0:Boolean(e.inpage),xml:void 0===e.xml?void 0:String(e.xml),switchVolumeOnRollOver:void 0===e.switchVolumeOnRollOver?void 0:Boolean(e.switchVolumeOnRollOver),prerollVast:void 0===e.prerollVast?void 0:e.prerollVast,postrollVast:void 0===e.postrollVast?void 0:e.postrollVast,yandexADXInsteadOfAdFoxFail:void 0===e.yandexADXInsteadOfAdFoxFail?void 0:Boolean(e.yandexADXInsteadOfAdFoxFail),desiredBitrate:void 0===e.desiredBitrate?void 0:Number(e.desiredBitrate),trackingEvents:e.trackingEvents?r.extractTrackingEvents(e.trackingEvents):{}})}Object.defineProperty(t,"__esModule",{value:!0}),t.extractBlockInfoConfig=o,t.extractVastUriParams=i,t.extractAdConfig=a}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(38)],o=function(e,t,r){"use strict";function n(e){var t={};return"object"==typeof e&&r.getObjectKeys(e).forEach(function(r){var n=e[r];Array.isArray(n)&&(t[r]=n.filter(function(e){return"string"==typeof e}))}),t}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};return e.forEach(function(e){r.getObjectKeys(e).forEach(function(t){var r=n[t]||[],o=e[t]||[];n[t]=r.concat(o)})}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.extractTrackingEvents=n,t.mergeTrackingEvents=o}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(e){if("function"==typeof Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectKeys=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VOLUME=.5}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INPAGE_IMPRESSION_TRACK_OFFSET=5,t.DIRECT_IMPRESSION_TRACK_OFFSET=2}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,r){var n=e.call(this,t)||this;return n.id=r,n.message=t,n}return i(t,e),t.VIDEO_TIMEOUT=62,t.BUFFER_FULL_TIMEOUT=63,t.BUFFER_EMPTY_LIMIT=64,t.VPAID_START_TIMEOUT=65,t}(Error);t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(e){e&&"function"==typeof e["catch"]&&e["catch"](function(e){})}Object.defineProperty(t,"__esModule",{value:!0}),t.muffleUncaughtErrors=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(e){var t=e.parentElement;t&&t.removeChild(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeNodeFromParent=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(45)],o=function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=o);var n=t.querySelector("StartTime"),i=t.querySelector("Duration"),a=t.querySelector("PositionsCount");return{id:r.readAttr(t,"BlockID",0),adType:r.readAttr(t,"type","preroll"),startTime:n?Number(r.readElementText(n)):0,duration:i?Number(r.readElementText(i)):void 0,
positionsCount:a?Number(r.readElementText(a)):void 0,partnerId:e.partnerId,sessionId:e.sessionId,categoryID:e.categoryID,title:e.title,skipDelay:e.skipDelay,skipTimeLeftShow:e.skipTimeLeftShow,timeLeftShow:e.timeLeftShow,visitSiteShow:e.visitSiteShow,vastTimeout:e.vastTimeout,videoTimeout:e.videoTimeout,vpaidTimeout:e.vpaidTimeout,wrapperTimeout:e.wrapperTimeout,wrapperMaxCount:e.wrapperMaxCount,bufferFullTimeout:e.bufferFullTimeout,bufferEmptyLimit:e.bufferEmptyLimit}}Object.defineProperty(t,"__esModule",{value:!0});var o=document.createElement("div");t.createBlock=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(e,t,r){if(void 0===r&&(r=null),e.hasAttribute(t)){var n=e.getAttribute(t);return n?n.trim():""}return r}function n(e){return e&&e.textContent?e.textContent.trim():""}function o(e){return Boolean(e&&n(e).length)}function i(e,t,r,n){var o=t.ownerDocument,i=o.createElement(e);if(t.appendChild(i),r&&i.appendChild(o.createCDATASection(r)),n)for(var a in n)n.hasOwnProperty(a)&&null!==n[a]&&i.setAttribute(a,String(n[a]));return i}Object.defineProperty(t,"__esModule",{value:!0}),t.readAttr=r,t.readElementText=n,t.isElementSet=o,t.appendNewElement=i}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(36),r(47),r(48),r(6),r(7),r(8),r(16),r(45),r(44)],o=function(e,t,r,n,o,a,s,u,d,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=3e3;t.DEFAULT_SKIP_DELAY=0,t.DEFAULT_VAST_TIMEOUT=3e3,t.DEFAULT_VIDEO_TIMEOUT=1e4,t.DEFAULT_VPAID_TIMEOUT=1e4,t.DEFAULT_WRAPPER_TIMEOUT=3e3,t.DEFAULT_WRAPPER_MAX_COUNT=3,t.DEFAULT_BUFFER_FULL_TIMEOUT=5e3,t.DEFAULT_BUFFER_EMPTY_LIMIT=5,t.DEFAULT_BLOCK_COMMON_PARAMETERS={partnerId:n.KINOPOISK_PARTNER_ID,sessionId:"",categoryID:0,title:"",skipDelay:t.DEFAULT_SKIP_DELAY,skipTimeLeftShow:!1,timeLeftShow:!1,visitSiteShow:!1,vastTimeout:t.DEFAULT_VAST_TIMEOUT,videoTimeout:t.DEFAULT_VIDEO_TIMEOUT,vpaidTimeout:t.DEFAULT_VPAID_TIMEOUT,wrapperTimeout:t.DEFAULT_WRAPPER_TIMEOUT,wrapperMaxCount:t.DEFAULT_WRAPPER_MAX_COUNT,bufferFullTimeout:t.DEFAULT_BUFFER_FULL_TIMEOUT,bufferEmptyLimit:t.DEFAULT_BUFFER_EMPTY_LIMIT};var f=function(){function e(){this.blocks=[]}return e.load=function(t){var n,d=r.extractBlockInfoConfig(t);try{n=e.getUrl(d)}catch(l){return i.reject(l)}return u.pushToStatistics("BlockInfoLoadStart",{url:n,config:t,timeout:p}),a.load(n,null,p).then(function(t){var r;try{r=e.fromXml(t)}catch(a){return s.pushErrorToStatistics(a,"BlockInfoParsingError"),i.reject(new o["default"](a.message,o["default"].PARSE_ERROR))}return u.pushToStatistics("BlockInfoLoadSuccess",{url:n,xml:t?(new XMLSerializer).serializeToString(t):t,timeout:p}),i.resolve(r)})["catch"](function(e){return s.pushErrorToStatistics(e,"BlockInfoLoadError"),e instanceof o["default"]?i.reject(e):i.reject(new o["default"](e.message,o["default"].NETWORK_ERROR))})},e.createPrerollBlockInfo=function(){var r=new e;return r.blocks=[c.createBlock(t.DEFAULT_BLOCK_COMMON_PARAMETERS)],r},e.getUrl=function(e){var t=e.partnerId,r=e.category,n=e.duration;if(!t)throw new o["default"]("Invalid ad parameters",o["default"].PARAMS_ERROR);return a.appendVersion(d.addUrlParams("https://an.yandex.ru/vcset/"+t,{"video-category-id":String(r),duration:n?String(n):void 0,client_type:"html"}))},e.fromXml=function(t){var r=t.querySelector("Blocksinfo");if(r){for(var n=r.querySelectorAll("Blocks > Block"),o=new e,i=function(e){var t=r.querySelector(e);return t?l.readElementText(t):""},a={partnerId:i("PartnerID"),sessionId:i("SessionID"),categoryID:Number(i("CategoryID")),title:i("Title").trim(),skipDelay:parseInt(i("SkipDelay"),10),skipTimeLeftShow:"true"===i("SkipTimeLeftShow"),timeLeftShow:"true"===i("TimeLeftShow"),visitSiteShow:"true"===i("VisitSiteShow"),vastTimeout:parseInt(i("VASTTimeout"),10),videoTimeout:parseInt(i("VideoTimeout"),10),vpaidTimeout:parseInt(i("VPAIDTimeout"),10),wrapperTimeout:parseInt(i("WrapperTimeout"),10),wrapperMaxCount:parseInt(i("WrapperMaxCount"),10),bufferFullTimeout:parseInt(i("BufferFullTimeout"),10),bufferEmptyLimit:parseInt(i("BufferEmptyLimit"),10)},s=0;s<n.length;s++)o.blocks.push(c.createBlock(a,n[s]));return o}throw new Error("AdSDK JS Error: No Blocksinfo node")},e.prototype.getBlockByAdType=function(e){return this.blocks.filter(function(t){return t.adType===e})[0]},e}();t["default"]=f}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KINOPOISK_PARTNER_ID="139995"}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,r){var n=e.call(this,t)||this;return n.id=r,n.message=t,n}return i(t,e),t.PARSE_ERROR=1001,t.TIMEOUT_ERROR=1002,t.PARAMS_ERROR=1003,t.NETWORK_ERROR=1004,t}(Error);t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t,r(50),r(18),r(51),r(17),r(52)],o=function(e,t,r,n,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t){var o=e.call(this)||this;o.wrapperNode=t,o.onReady=new n["default"],o.onDestroy=new n["default"],o.onBeforeAdStart=new n["default"],o.onAdStart=new n["default"],o.onAdMediaStart=new n["default"],o.onAdMediaEnd=new n["default"],o.onAdEnd=new n["default"],o.onAdSkipped=new n["default"],o.onClickThrough=new n["default"],o.visibilitySensor=new s["default"](t,r.DEFAULT_THRESHOLD),o.visibilitySensor.onResize.add(function(e){var t=e.width,r=e.height;o.resizeAd(t,r)});var i=a.createHoverE(t),u=i.signal,d=i.unsubscribe;return u.add(function(e){return o.isHovered=e}),o.onChangeHover=u,o.onDestroy.add(function(){d(),o.visibilitySensor.destroy()}),o}return i(t,e),t.isJs=function(e){return"flash"!==e.currentContentType},t.prototype.destroy=function(){this.onDestroy.trigger(void 0),this.onDestroy.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onChangeHover.removeAll(),this.onReady.removeAll()},Object.defineProperty(t.prototype,"duration",{get:function(){return this.getDuration()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.getCurrentTime()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContentType",{get:function(){return this.getCurrentContentType()},enumerable:!0,configurable:!0}),t}(o["default"]);t.DisplayController=u}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_THRESHOLD=.5}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.resetEventBus()}return e.toEventsArr=function(e,t){var r=[];if("string"==typeof e){if(!t)throw new Error("AdSDK: EventBus: you MUST pass function with string param");r.push({name:e,callback:t})}else if(e instanceof Array){for(var n in e)if(e.hasOwnProperty(n)){if("function"!=typeof t)throw new Error("You MUST pass callback in the second parameter with eventsName array");e.hasOwnProperty(n)&&r.push({name:e[n],callback:t})}}else{if("object"!=typeof e)throw new Error("Event name MUST be a string");for(var n in e)e.hasOwnProperty(n)&&r.push({name:n,callback:e[n]})}return r},e.addEvent=function(e,t){var r=t.name,n=t.callback;if("function"!=typeof n)throw new Error("Event listener MUST be a function");e[r]||(e[r]=[]),e[r].indexOf(n)===-1&&e[r].push(n)},e.addEvents=function(t,r){for(var n in r)r.hasOwnProperty(n)&&e.addEvent(t,r[n])},e.offCallbackByCallbacks=function(e,t){if(e){var r=e.indexOf(t);r!==-1&&e.splice(r,1)}},e.prototype.resetEventBus=function(){return this._events={on:{},once:{}},this},e.prototype.on=function(t,r){return e.addEvents(this._events.on,e.toEventsArr(t,r)),this},e.prototype.once=function(t,r){return e.addEvents(this._events.once,e.toEventsArr(t,r)),this},e.prototype.when=function(e){var t=this;return new i(function(r){if("string"==typeof e)t.once(e,r);else{if(!(e instanceof Array))throw new Error('EventBus "when" method can take a string on string array parameter');for(var n in e)e.hasOwnProperty(n)&&t.once(e[n],r)}})},e.prototype.off=function(t,r){return this.offEvents(e.toEventsArr(t,r)),this},e.prototype.emit=function(e,t){if("string"==typeof e)this.emitEvent(e,t);else if(e instanceof Array)for(var r in e)e.hasOwnProperty(r)&&this.emitEvent(e[r],t);else if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&this.emitEvent(n,e[n]);return this},e.prototype.reemit=function(e,t){var r=this,n=t instanceof Array?t:[t];for(var o in n)n.hasOwnProperty(o)&&!function(t){return e.on(t,function(e){return r.emit(t,e)})}(n[o]);return this},e.prototype.offEvents=function(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r],o=n.name,i=n.callback;e.offCallbackByCallbacks(this._events.on[o],i),e.offCallbackByCallbacks(this._events.once[o],i)}},e.prototype.emitEvent=function(e,t){this.emitEvents(this._events.on[e],t),this.emitEvents(this._events.once[e],t),this._events.once[e]=[]},e.prototype.emitEvents=function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&e[r].apply(this,[t])},e}();t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(53),r(56),r(57)],o=function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var i=this;this.onResize=new r["default"],this.onChangeVisibility=new r["default"],this.onShow=new r["default"],this.onHide=new r["default"],this.visibility=!1,this.onDestroy=new r["default"];var a="undefined"!=typeof IntersectionObserver,s=e.getBoundingClientRect(),u=s.width,d=s.height,l=setInterval(function(){var r=e.getBoundingClientRect();r.width===u&&r.height===d||(i.onResize.dispatch(r),u=r.width,d=r.height),a||i.setVisibilityInternal(o.getVisibility(e,t))},n.VIDEO_TIMEUPDATE_INTERVAL);if(a){var c=new IntersectionObserver(function(e){var r=e[0].intersectionRatio;i.setVisibilityInternal(r>t)},{threshold:t});c.observe(e),this.onDestroy.add(function(){c.disconnect()})}this.onDestroy.add(function(){i.onResize.removeAll(),i.onChangeVisibility.removeAll(),i.onShow.removeAll(),i.onHide.removeAll(),clearInterval(l)})}return e.prototype.destroy=function(){this.onDestroy.dispatch(void 0),this.onDestroy.removeAll()},e.prototype.setVisibilityInternal=function(e){this.visibility!==e&&(this.visibility=e,this.onChangeVisibility.dispatch(e),e?this.onShow.dispatch(void 0):this.onHide.dispatch(void 0))},e}();t["default"]=i}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(54).Promise:Promise;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.on=[],this.once=[]}return e.prototype.add=function(e){var t=this;return this.on.push(e),function(){return t.remove(e)}},e.prototype.addOne=function(e){var t=this;return this.once.push(e),function(){return t.remove(e)}},e.prototype.promise=function(){var e=this;return new i(function(t){return e.addOne(t)})},e.prototype.dispatch=function(e){this.dispatchECallbacks(this.on,e),this.dispatchECallbacks(this.once,e),this.once=[]},e.prototype.removeAll=function(){this.on=[],this.once=[]},e.prototype.remove=function(e){this.on=this.on.filter(function(t){return t!==e}),this.once=this.once.filter(function(t){return t!==e})},e.prototype.dispatchECallbacks=function(t,r){t.forEach(function(t){t instanceof e?t.dispatch(r):t(r)})},e}();t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){(function(t,n){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   4.1.1
	 */
!function(t,r){e.exports=r()}(this,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function o(e){return"function"==typeof e}function i(e){Y=e}function a(e){J=e}function s(){return function(){return t.nextTick(p)}}function u(){return"undefined"!=typeof z?function(){z(p)}:c()}function d(){var e=0,t=new $(p),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function l(){var e=new MessageChannel;return e.port1.onmessage=p,function(){return e.port2.postMessage(0)}}function c(){var e=setTimeout;return function(){return e(p,1)}}function p(){for(var e=0;e<K;e+=2){var t=re[e],r=re[e+1];t(r),re[e]=void 0,re[e+1]=void 0}K=0}function f(){try{var e=r(55);return z=e.runOnLoop||e.runOnContext,u()}catch(t){return c()}}function h(e,t){var r=arguments,n=this,o=new this.constructor(y);void 0===o[oe]&&R(o);var i=n._state;return i?!function(){var e=r[i-1];J(function(){return V(i,o,e,n._result)})}():P(n,o,e,t),o}function v(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(y);return b(r,e),r}function y(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function E(e){try{return e.then}catch(t){return ue.error=t,ue}}function A(e,t,r,n){try{e.call(t,r,n)}catch(o){return o}}function w(e,t,r){J(function(e){var n=!1,o=A(r,t,function(r){n||(n=!0,t!==r?b(e,r):k(e,r))},function(t){n||(n=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,C(e,o))},e)}function T(e,t){t._state===ae?k(e,t._result):t._state===se?C(e,t._result):P(t,void 0,function(t){return b(e,t)},function(t){return C(e,t)})}function _(e,t,r){t.constructor===e.constructor&&r===h&&t.constructor.resolve===v?T(e,t):r===ue?(C(e,ue.error),ue.error=null):void 0===r?k(e,t):o(r)?w(e,t,r):k(e,t)}function b(t,r){t===r?C(t,m()):e(r)?_(t,r,E(r)):k(t,r)}function S(e){e._onerror&&e._onerror(e._result),O(e)}function k(e,t){e._state===ie&&(e._result=t,e._state=ae,0!==e._subscribers.length&&J(O,e))}function C(e,t){e._state===ie&&(e._state=se,e._result=t,J(S,e))}function P(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+ae]=r,o[i+se]=n,0===i&&e._state&&J(O,e)}function O(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?V(r,n,o,i):o(i);e._subscribers.length=0}}function I(){this.error=null}function D(e,t){try{return e(t)}catch(r){return de.error=r,de}}function V(e,t,r,n){var i=o(r),a=void 0,s=void 0,u=void 0,d=void 0;if(i){if(a=D(r,n),a===de?(d=!0,s=a.error,a.error=null):u=!0,t===a)return void C(t,g())}else a=n,u=!0;t._state!==ie||(i&&u?b(t,a):d?C(t,s):e===ae?k(t,a):e===se&&C(t,a))}function M(e,t){try{t(function(t){b(e,t)},function(t){C(e,t)})}catch(r){C(e,r)}}function N(){return le++}function R(e){e[oe]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function x(e,t){this._instanceConstructor=e,this.promise=new e(y),this.promise[oe]||R(this.promise),X(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&k(this.promise,this._result))):C(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}function F(e){return new x(this,e).promise}function U(e){var t=this;return new t(X(e)?function(r,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function B(e){var t=this,r=new t(y);return C(r,e),r}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function W(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){this[oe]=N(),this._result=this._state=void 0,this._subscribers=[],y!==e&&("function"!=typeof e&&j(),this instanceof H?M(this,e):W())}function G(){var e=void 0;if("undefined"!=typeof n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;if(r){var o=null;try{o=Object.prototype.toString.call(r.resolve())}catch(t){}if("[object Promise]"===o&&!r.cast)return}e.Promise=H}var q=void 0;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var X=q,K=0,z=void 0,Y=void 0,J=function(e,t){re[K]=e,re[K+1]=t,K+=2,2===K&&(Y?Y(p):ne())},Q="undefined"!=typeof window?window:void 0,Z=Q||{},$=Z.MutationObserver||Z.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3),ne=void 0;ne=ee?s():$?d():te?l():void 0===Q?f():c();var oe=Math.random().toString(36).substring(16),ie=void 0,ae=1,se=2,ue=new I,de=new I,le=0;return x.prototype._enumerate=function(e){for(var t=0;this._state===ie&&t<e.length;t++)this._eachEntry(e[t],t)},x.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===v){var o=E(e);if(o===h&&e._state!==ie)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===H){var i=new r(y);_(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},x.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===ie&&(this._remaining--,e===se?C(n,r):this._result[t]=r),0===this._remaining&&k(n,this._result)},x.prototype._willSettleAt=function(e,t){var r=this;P(e,void 0,function(e){return r._settledAt(ae,t,e)},function(e){return r._settledAt(se,t,e)})},H.all=F,H.race=U,H.resolve=v,H.reject=B,H._setScheduler=i,H._setAsap=a,H._asap=J,H.prototype={constructor:H,then:h,"catch":function(e){return this.then(null,e)}},H.polyfill=G,H.Promise=H,H})}).call(t,r(3),function(){return this}())},function(e,t){},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_TIMEUPDATE_INTERVAL=250}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(58),r(63)],o=function(e,t,r,n){"use strict";function o(e,t){var o=e.ownerDocument;return!!n.getDocumentVisibility(o)&&r.calculateElementVisibilityRatio(e)>=t}Object.defineProperty(t,"__esModule",{value:!0}),t.getVisibility=o}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(59)],o=function(e,t,r){"use strict";function n(e){var t=e.ownerDocument,r=t.defaultView,n=t.documentElement,o=e.getBoundingClientRect();return{winWidth:u?Math.max(n.clientWidth,r.innerWidth||0):r.innerWidth||t.documentElement.clientWidth||t.body.clientWidth,winHeight:u?Math.max(n.clientHeight,r.innerHeight||0):r.innerHeight||t.documentElement.clientHeight||t.body.clientHeight,left:o.left,top:o.top,width:o.width,height:o.height}}function o(e){var t=e.width,r=e.height,n=e.top,o=e.left,i=e.winWidth,a=e.winHeight,s=o+t,u=n+r,d=o<0?0:o<i?o:i,l=n<0?0:n<a?n:a,c=s>i?i:s>d?s:d,p=u>a?a:u>l?u:l;return{winWidth:i,winHeight:a,left:d,top:l,width:c-d,height:p-l}}function i(e,t){return{winWidth:t.winWidth,winHeight:t.winHeight,left:e.left+t.left,top:e.top+t.top,width:e.width,height:e.height}}function a(e,t){return e.width*e.height/(t.width*t.height)}function s(e){var t=n(e),s=o(t),u=a(s,t);for(var d in r.parentFriendlyIFrames)if(r.parentFriendlyIFrames.hasOwnProperty(d)){var l=r.parentFriendlyIFrames[d],c=n(l),p=i(s,c);s=o(p),u=a(s,t)}return u}Object.defineProperty(t,"__esModule",{value:!0});var u=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(e){return null!==navigator.userAgent.match(e)});t.calculateElementVisibilityRatio=s}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(60)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parentFriendlyIFrames=r.getParentFriendlyIFramesConsideringSafari(document.documentElement)}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(61),r(11)],o=function(e,t,r,n){"use strict";function o(e){return r.isSafari?[]:n.getParentFriendlyIFrames(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getParentFriendlyIFramesConsideringSafari=o}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(62)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=r.isSafari()}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")!==-1&&e.indexOf("chrome")===-1&&e.indexOf("android")===-1}Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(e,r){return void 0===r&&(r=!0),"string"==typeof t.DOCUMENT_HIDDEN_PROPERTY?!e[t.DOCUMENT_HIDDEN_PROPERTY]:r}function n(e,n){if(t.DOCUMENT_HIDDEN_PROPERTY){var o=t.DOCUMENT_HIDDEN_PROPERTY.replace(/hidden/i,"visibilitychange"),i=function(){return n(r(e))};return e.addEventListener(o,i),function(){return e.removeEventListener(o,i)}}return function(){return 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.DOCUMENT_HIDDEN_PROPERTY="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":null,t.VISIBILITY_STATE_PROPERTY="visibilityState"in document?"visibilityState":"webkitVisibilityState"in document?"webkitVisibilityState":null,t.getDocumentVisibility=r,t.onDocumentVisibilityChange=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise,a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t,r(65),r(68),r(66),r(43),r(17),r(67)],o=function(e,t,r,n,o,s,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.paused=!0,n.wrapperNode=t.wrapperNode,n.onDestroy.add(function(){var e=n.containerElement;e&&s.removeNodeFromParent(e)}),n}return a(t,e),t.prototype.play=function(e){var t=this;return this.preload().then(function(r){t.flashDisplayController=r,r.on("start",function(){return t.emit("start")}),r.on("resume",function(){return t.emit("resume")}),t.flashDisplayController.onAdEnd.add(function(e){var r=e.error;return t.onStop.trigger(r)}),r.on("pause",function(){t.paused=!0}),r.on(["start","resume"],function(){t.paused=!1}),t.onReady.trigger(void 0),e&&t.flashDisplayController.play()})["catch"](function(e){return t.onStop.trigger(e)}),this.onStop.promise().then(function(e){return t.paused=!0,e?i.reject(e):i.resolve()})},t.prototype.skip=function(e){},t.prototype.pause=function(){this.flashDisplayController&&this.flashDisplayController.pause()},t.prototype.resume=function(){this.flashDisplayController&&this.flashDisplayController.play()},t.prototype.getCurrentTime=function(){return 0},t.prototype.getDuration=function(){return 0},t.prototype.getAdWidth=function(){return this.flashDisplayController?this.flashDisplayController.getAdWidth():0},t.prototype.getAdHeight=function(){return this.flashDisplayController?this.flashDisplayController.getAdHeight():0},t.prototype.getSkippable=function(){return!1},t.prototype.getPaused=function(){return this.paused},t.prototype.getVolume=function(){return this.flashDisplayController?this.flashDisplayController.getVolume():0},t.prototype.setVolume=function(e){this.flashDisplayController&&this.flashDisplayController.setVolume(e)},t.prototype.getSrc=function(){var e=this.getMediaSource();return e?e.src:""},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r="normal");var n=this.flashDisplayController;n&&n.resizeAd(e,t,r)},t.prototype.preload=function(){var e=this;return this.preloadPromise||(this.preloadPromise=o.checkForFlashPlayer().then(function(t){if(t){e.createPlayerContainer();var o=e.mediaAd.toXMLString(),i=e.adDisplayController.getAdConfigForFlash(),a={partnerId:Number(i.partnerId),category:i.categoryID,switchVolumeOnRollOver:e.adDisplayController.config.switchVolumeOnRollOver,xml:o};return n.createSwfAdPlayer(e.playerElement,a,i)}throw new r["default"](r["default"].FLASH_PLAYER_IS_NOT_AVAILABLE_MSG,r["default"].FLASH_PLAYER_IS_NOT_AVAILABLE)})),this.preloadPromise},t.prototype.createPlayerContainer=function(){var e={position:"absolute",top:"0",left:"0",width:"100%",height:"100%"};this.containerElement=document.createElement("div"),u.applyStyles(this.containerElement,e),this.playerElement=document.createElement("div"),this.playerElement.id="yandex_flash_vpaid_"+Math.floor(1e9*Math.random()),u.applyStyles(this.playerElement,e),this.containerElement.appendChild(this.playerElement),this.wrapperNode.insertBefore(this.containerElement,this.adDisplayController.gui.wrapper.el)},t.prototype.getMediaSource=function(){return this.mediaAd.sources.filter(function(e){return e.isVpaid&&"flash"===e.sourceType})[0]},t}(d.Viewer);t["default"]=l}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,r){var n=e.call(this,t)||this;return n.id=r,n.message=t,n}return i(t,e),t.NO_AD_TO_DISPLAY=51,t.NO_AD_TO_DISPLAY_MSG="No MediaFiles to display in the VAST documents",t.SKIP_DELAY_WITHOUT_SKIPOFFSET=45,t.SKIP_DELAY_WITHOUT_SKIPOFFSET_MSG="BlockInfo-Skipoffset error",t.FLASH_PLAYER_IS_NOT_AVAILABLE=55,t.FLASH_PLAYER_IS_NOT_AVAILABLE_MSG="Cannot play FLASH Ad: FlashPlayer is not available",t}(Error);t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(1),r(6),r(17)],o=function(e,t,r,n,o){"use strict";function a(e){return e.replace(/[^a-zA-Z0-9_]/g,"_")}function s(){function e(){return swfobject.getFlashPlayerVersion().major>0}return void 0===window.swfobject?n.loadScript("https://"+r.ENVIRONMENT.getActualDomain()+"/awaps-ad-sdk-js/"+r.ENVIRONMENT.getVersioningURL()+"/swfobject.min.js").then(e):i.resolve(e())}function u(e,t){var o=new i(function(o,i){var a=new XMLHttpRequest,s="https://"+r.ENVIRONMENT.getActualDomain()+"/swf/"+e+"/"+t+"/info?nc="+Math.random();a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?o(a.responseText.split("'")[1]):i(new Error(a.statusText)))};try{a.open("GET",n.fixUrlSheme(s),!0),a.send()}catch(u){i(u)}});return o.then(function(n){return"//"+r.ENVIRONMENT.getActualDomain()+"/swf/"+e+"/"+t+"/v-"+n+"/"+e+".swf"})}function d(e,t){for(var r in e)e.hasOwnProperty(r)&&l[r]&&(t[l[r]]=e[r]);void 0!==e.adFoxUrl&&(t["ad-fox-url"]=encodeURIComponent(e.adFoxUrl)),void 0!==e.adFoxUrlMidRoll&&(t["ad-fox-url-midroll"]=encodeURIComponent(e.adFoxUrlMidRoll)),void 0!==e.adFoxUrlPauseRoll&&(t["ad-fox-url-pauseroll"]=encodeURIComponent(e.adFoxUrlPauseRoll)),void 0!==e.adFoxUrlPostRoll&&(t["ad-fox-url-postroll"]=encodeURIComponent(e.adFoxUrlPostRoll)),void 0!==e.vastUrl&&(t["vast-url"]=encodeURIComponent(e.vastUrl)),t["target-referrer"]=encodeURIComponent(o.getReferrer()),t["page-referrer"]=encodeURIComponent(document.referrer)||"unknown"}Object.defineProperty(t,"__esModule",{value:!0});var l={partnerId:"partner-id",category:"category",tagsList:"tags-list",emptyId:"empty-id",extParam:"ext-param",videoContentId:"video-content-id",videoContentName:"video-content-name",videoPublisherId:"video-publisher-id",videoPublisherName:"video-publisher-name",videoGenreId:"video-genre-id",videoGenreName:"video-genre-name",duration:"duration"};t.sanitizeId=a,t.checkForFlashPlayer=s,t.loadSWFUrlByPackageAndBuild=u,t.adConfigToFlashvars=d}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t,r(18),r(51)],o=function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var o=e.call(this)||this;o.adDisplayController=t,o.mediaAd=n,o.onCurrentPositionChange=new r["default"],o.onDestroy=new r["default"],o.impressionTrackOffset=0,o.viewability=!1,o.isStarted=!1,o.isPlaying=!1,o.onReady=new r["default"],o.onClickThrough=new r["default"],o.onStop=new r["default"];var i=!1;o.once(["start","resume"],function(){i||(i=!0,n.initComscore(o.adDisplayController))});var a=function(){o.isPlaying=!1,o.setViewability(!1)};return o.on(["start","resume"],function(){o.isPlaying=!0,t.visibilitySensor.visibility&&o.setViewability(!0)}).on("pause",a),o.onStop.add(a),t.visibilitySensor.onChangeVisibility.add(function(e){return o.setViewability(e&&o.isPlaying)}),o.onDestroy.add(function(){o.resetEventBus()}),o}return i(t,e),t.prototype.trackEvent=function(e){this.adDisplayController.emit("trackEvent",e),this.mediaAd.trackEvent(e)},t.prototype.trackError=function(e){this.mediaAd.trackError(e)},t.prototype.clickThrough=function(e){var t;e&&e.url?t=e.url:this.mediaAd.clickThroughUrl&&(t=this.mediaAd.clickThroughUrl);var r=this.adDisplayController.config.clickThroughCallback;(r||t)&&(this.playbackParams.pauseOnClickThrough&&this.pause(),r?r({url:t}):window.open(t,"_blank"))},t.prototype.setNumRepeats=function(e){this.mediaAd.numRepeats=e},t.prototype.destroy=function(){this.onDestroy.trigger(void 0)},t.prototype.setViewability=function(e){this.viewability!==e&&(this.viewability=e,this.emit("changeViewability",e))},Object.defineProperty(t.prototype,"playbackParams",{get:function(){return this.mediaAd.playbackParams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return this.mediaAd.contentType},enumerable:!0,configurable:!0}),t}(n["default"]);t.Viewer=o}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(66),r(69)],o=function(e,t,r,n){"use strict";function o(e,t,n,o,a){return new i(function(i){ya.mediaAd.inPage[t]||(ya.mediaAd.inPage[t]={});var s=o.xml,u={onStateChange:"window.ya.mediaAd.inPage."+t+".onStateChange",onError:"window.ya.mediaAd.inPage."+t+".onError","hide-ui":"true",autostart:"false",inpage:o.switchVolumeOnRollOver?"true":"false","switch-volume-on-roll-over":o.switchVolumeOnRollOver?"true":"false",awapsXMLProvider:s?function(){return ya.mediaAd.inPage[t].awapsXMLProvider=function(){return s},"window.ya.mediaAd.inPage."+t+".awapsXMLProvider"}():"",getBlockInfo:function(){var e=JSON.stringify(a);return ya.mediaAd.inPage[t].getBlockInfo=function(){return e},"window.ya.mediaAd.inPage."+t+".getBlockInfo"}()},l={id:e.id,name:e.id,bgcolor:"#000000",background:"#000000",width:"100%",height:"100%"},c={movie:n,allowfullscreen:"true",bgcolor:"#000000",allowscriptaccess:"always",wmode:"opaque"};r.adConfigToFlashvars(o,u),swfobject.embedSWF(n,e.id,"100%","100%",d,void 0,u,c,l,i)})}function a(e,t,a){var d=r.sanitizeId(e.id);return r.loadSWFUrlByPackageAndBuild(s,u).then(function(r){var s=document.createElement("div");return e.appendChild(s),s.id=e.id+"swf",e.style.overflow="hidden",o(s,d,r,t,a).then(function(t){if(t instanceof Error)throw t;if(t.ref)return new i(function(r,o){var i=t.ref,a=new n["default"](i,e);setTimeout(function(){return o(new Error("AdSDK error: FlashDisplayController ready timeout"))},15e3),a.onReady.add(function(){r(a)}),a.onAdEnd.add(function(e){var t=e.error;t&&o(t)})});throw new Error("Error creating object element")})})}Object.defineProperty(t,"__esModule",{value:!0});var s="adplayer",u="1_2",d="10.2";t.createSwfAdPlayer=a}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t,r(49),r(66)],o=function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){var o=e.call(this,r)||this;o.adPlayer=t,o.isStarted=!1;var i=ya.mediaAd.inPage,a=n.sanitizeId(r.id);return i[a].onStateChange=function(e){switch(e){case"ready":o.onReady.trigger(void 0);break;case"pause":o.emit("pause");break;case"resume":o.emit("resume");break;case"play":o.emit("start");break;case"stop":o.onAdEnd.trigger({adType:"preroll"})}},i[a].onError=function(e){o.onAdEnd.trigger({adType:"preroll",error:new Error("AdSDK Js Error: FlashDisplayController Error ["+e+"]")})},o}return i(t,e),t.prototype.getAdWidth=function(){try{return this.adPlayer.getMediaWidth()}catch(e){return 0}},t.prototype.getAdHeight=function(){try{return this.adPlayer.getMediaHeight()}catch(e){return 0}},t.prototype.showAd=function(){return this.play(),this.onAdEnd.promise()},t.prototype.play=function(){this.isStarted?this.adPlayer.resume():(this.adPlayer.start(),this.isStarted=!0),this.emit("resume")},t.prototype.pause=function(){"function"==typeof this.adPlayer.pause&&this.adPlayer.pause(),this.emit("pause")},t.prototype.setMuted=function(e){this.setVolume(e?0:1)},t.prototype.getCurrentTime=function(){return 0},t.prototype.getDuration=function(){return 0},t.prototype.getPaused=function(){return!1},t.prototype.getVolume=function(){return"function"==typeof this.adPlayer.getVolume?this.adPlayer.getVolume():0},t.prototype.setVolume=function(e){"function"==typeof this.adPlayer.setVolume&&this.adPlayer.setVolume(e)},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r="normal"),"function"==typeof this.adPlayer.resizeAd&&this.adPlayer.resizeAd(e,t,r)},t.prototype.skip=function(){},t.prototype.getCurrentContentType=function(){return"flash"},t.prototype.getCurrentClickability=function(){return!1},t.prototype.clickThrough=function(){},t}(r.DisplayController);t["default"]=o}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t,r(1),r(71),r(18),r(51),r(43),r(17)],o=function(e,t,n,o,a,s,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(72),c=function(e){function t(t,r){var n=e.call(this,t,"unmuteInviter",void 0,void 0)||this;n.timeout=0;var o=d.createDiv("unmuteInviterWrapper"),i=d.createDiv("unmuteInviterIcon");o.appendChild(i);var a=d.createDiv("unmuteInviterText","&#1053;&#1072;&#1074;&#1077;&#1076;&#1080;&#1090;&#1077; &#1082;&#1091;&#1088;&#1089;&#1086;&#1088;,<br>&#1095;&#1090;&#1086;&#1073;&#1099; &#1074;&#1082;&#1083;&#1102;&#1095;&#1080;&#1090;&#1100; &#1079;&#1074;&#1091;&#1082;");return o.appendChild(a),n.el.appendChild(o),d.createHoverE(n.el).signal.add(function(e){e?n.timeout||(n.timeout=setTimeout(function(){n.hide(),r()},1e3)):(clearTimeout(n.timeout),n.timeout=0)}),i.addEventListener("click",function(e){return e.preventDefault()}),a.addEventListener("click",function(e){return e.preventDefault()}),n}return i(t,e),t.prototype.remove=function(){clearTimeout(this.timeout),this.hide()},t}(o["default"]),p=function(e){function t(t){var r=e.call(this)||this;r.container=t,r.onMuteButtonClick=new a["default"],r.onUnmuteInviterAction=new a["default"],r.wrapper=new o["default"](t,"yaAdSdkGui",(void 0),(void 0),(!1)),t.style.position&&"static"!==t.style.position||(t.style.position="relative");var n=r.topRightBlock=d.createDiv("topRightBlock"),i=r.wrapper;i.appendChild(n);var s=d.createDiv("visitSiteWrapper");return i.appendChild(s),r.controls={timeLeft:new o["default"](i.el,"timeLeft",(void 0),"Реклама 00"),visitSite:new o["default"](s,"visitSite pointer",function(){return r.emit("click")},"Перейти на сайт рекламодателя",(!1)),play:new o["default"](i.el,"play",function(){return r.emit("play")}),pause:new o["default"](i.el,"pause",function(){return r.emit("pause")}).hide(),mute:new o["default"](n,"mute",function(){return r.onMuteButtonClick.trigger(0)}),skipTimeLeft:new o["default"](n,"skipTimeLeft",(void 0),"&#1055;&#1088;&#1086;&#1087;&#1091;&#1089;&#1090;&#1080;&#1090;&#1100; &#1088;&#1077;&#1082;&#1083;&#1072;&#1084;&#1091;: 5 &#1089;&#1077;&#1082;"),skip:new o["default"](i.el,"skip",function(){return r.emit("skip")},"&#1055;&#1088;&#1086;&#1087;&#1091;&#1089;&#1090;&#1080;&#1090;&#1100;"),title:new o["default"](i.el,"title",function(){return r.emit("click")}),unmuteInviter:new c(i.el,function(){return r.onUnmuteInviterAction.trigger(0)})},r.controls.skip.hide(),r}return i(t,e),t.prototype.addSkin=function(){if(n.ENVIRONMENT.DEFAULT_CSS)d.addBuiltinSkin();else if(!document.getElementById("yandex-adsdk-styles")){var e=this.container.ownerDocument,t=e.createElement("style");t.id="yandex-adsdk-styles",t.type="text/css",t.innerHTML=l;var r=e.querySelector('head link[rel="stylesheet"]'),o=e.querySelector("head");o&&(r?o.insertBefore(t,r):o.appendChild(t))}},t.prototype.setMuted=function(e){this.controls.mute.setClasses(e?"unMute":"mute")},t.prototype.show=function(){this.wrapper.show()},t.prototype.hide=function(){this.wrapper.hide()},t.prototype.destroy=function(){u.removeNodeFromParent(this.wrapper.el)},t}(s["default"]);t["default"]=p}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(17)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,o,i){void 0===i&&(i=!0),this.blocked=!1,this.el=r.createDiv(t,o),this.el.addEventListener("click",function(e){i&&e.stopPropagation(),"function"==typeof n&&n()}),this.styleDisplay=this.el.style.display,this.el.style.display="none",e.appendChild(this.el)}return e.prototype.setText=function(e){return this.el.innerHTML=e.trim()||"",this},e.prototype.setVisible=function(e){return this.blocked||this.isVisible===Boolean(e)||(e?this.el.style.display=this.styleDisplay:this.el.style.display="none"),this},e.prototype.getClasses=function(){return this.el.className.split(/\s+/)},e.prototype.hasClass=function(e){return this.getClasses().indexOf(e)>-1},e.prototype.addClass=function(e){return this.hasClass(e)||(this.el.className+=" "+e),this},e.prototype.removeClass=function(e){if(this.hasClass(e)){var t=this.getClasses();t.splice(t.indexOf(e),1),this.el.className=t.join(" ")}return this},e.prototype.setClasses=function(e){return this.el.className=e,this},e.prototype.hide=function(){return this.setVisible(!1)},e.prototype.show=function(){return this.setVisible(!0)},e.prototype.setBlocked=function(e){return e&&this.hide(),this.blocked=e,this},e.prototype.block=function(){return this.setBlocked(!0)},e.prototype.unBlock=function(){return this.setBlocked(!1)},e.prototype.appendChild=function(e){return this.el.appendChild(e),this},e.prototype.removeChild=function(e){return this.el.removeChild(e),this},Object.defineProperty(e.prototype,"isVisible",{get:function(){return"none"!==this.el.style.display},enumerable:!0,configurable:!0}),e}();t["default"]=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t){e.exports=".yaAdSdkGui{position:static;margin:0;padding:0;font-family:Arial,sans-serif;font-size:12px;color:#fff;text-align:left;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yaAdSdkGui .timeLeft{position:absolute;top:10px;left:10px;background-color:rgba(51,51,51,.7);padding:6px 8px;cursor:default;width:auto}.yaAdSdkGui.yaAdSdkGui-mobile .timeLeft{font-size:12px}.yaAdSdkGui .skipTimeLeft{position:absolute;top:0;right:0;width:82px;background-color:rgba(51,51,51,.7);padding:6px 8px;cursor:default;visibility:hidden}.yaAdSdkGui .skip{position:absolute;top:10px;right:10px;width:77px;padding:6px 7px 6px 8px;background:rgba(51,51,51,.7) url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='17'%3E%3Cpath fill='%23FFF' d='M0 14.85L6.35 8.5 0 2.15 2.15 0l8.5 8.5-8.5 8.5L0 14.85'/%3E%3C/svg%3E\") no-repeat 100%;cursor:pointer}.yaAdSdkGui.yaAdSdkGui-mobile .skip{font-size:12px;width:83px}.yaAdSdkGui .mute{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3Evolume-on%3C/title%3E%3Cdefs%3E%3ClinearGradient x1='50%25' y1='2.186%25' x2='50%25' y2='100%25' id='a'%3E%3Cstop stop-color='%235B5B5B' offset='0%25'/%3E%3Cstop stop-color='%23444' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill-rule='nonzero' transform='translate(1 1)'%3E%3Ccircle cx='11' cy='11' r='11' fill='%23000'/%3E%3Ccircle cx='11' cy='11' r='11' stroke='%23242424' fill='url(%23a)'/%3E%3C/g%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M8 9.5h5v5H8z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M8 12l5.5-5v10z'/%3E%3Cpath d='M15.208 13.5c.626-1.085.596-2.093 0-3' stroke='%23FFF' stroke-width='1.3' stroke-linecap='round'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui .mute,.yaAdSdkGui .unMute{position:absolute;top:2px;left:0;width:24px;height:25px;cursor:pointer}.yaAdSdkGui .unMute{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3Evolume-off%3C/title%3E%3Cdefs%3E%3ClinearGradient x1='50%25' y1='2.186%25' x2='50%25' y2='100%25' id='a'%3E%3Cstop stop-color='%235B5B5B' offset='0%25'/%3E%3Cstop stop-color='%23444' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill-rule='nonzero' transform='translate(1 1)'%3E%3Ccircle cx='11' cy='11' r='11' fill='%23000'/%3E%3Ccircle cx='11' cy='11' r='11' stroke='%23242424' fill='url(%23a)'/%3E%3C/g%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8 9.5h5v5H8z'/%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8 12l5.5-5v10z'/%3E%3Cpath d='M15.25 10.25l3.5 3.5m0-3.5l-3.5 3.5' stroke='%23000' stroke-width='1.5' stroke-linecap='round'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui.yaAdSdkGui-mobile .mute,.yaAdSdkGui.yaAdSdkGui-mobile .unMute{background-size:100% 100%;width:30px;height:30px;top:-1px;left:55px;max-width:none}.yaAdSdkGui .play{position:absolute;top:50%;margin-top:-65px;left:50%;margin-left:-65px;width:130px;height:130px;cursor:pointer;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='130' height='130' viewBox='0 0 130 130' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3EGroup 3%3C/title%3E%3Cg fill='none' fill-rule='evenodd' opacity='.7'%3E%3Ccircle fill='%23000' cx='65' cy='65' r='65'/%3E%3Ccircle stroke='%23B2B2B2' stroke-width='12' cx='65' cy='65' r='52'/%3E%3Cpath fill='%23D8D8D8' d='M90.188 65L50 88V42z'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui .title{position:absolute;top:10px;margin:0 150px 0 100px;background-color:rgba(51,51,51,.7);font-size:12px;cursor:default;padding:6px 8px}@media (max-width:640px){.yaAdSdkGui .title{left:10px;top:45px;margin:0 10px 0 0}.yaAdSdkGui.yaAdSdkGui-mobile .title{top:50px}}.yaAdSdkGui .topRightBlock{position:absolute;top:10px;right:10px;width:135px}.yaAdSdkGui.yaAdSdkGui-mobile .topRightBlock{width:190px}.yaAdSdkGui .topRightBlockMinimal{position:absolute;top:10px;right:10px;width:24px}.yaAdSdkGui .visitSiteWrapper{position:absolute;width:100%;bottom:0;text-align:center}.yaAdSdkGui .visitSite{color:#fff;font-family:Arial,sans-serif;font-size:13px;opacity:.8;padding:5px 10px;background:rgba(0,0,0,.5);border-radius:2px;text-align:center;display:inline-block;cursor:pointer}.pointer{cursor:pointer}.yaAdSdk_iosVideoCurtain_wrapper{position:static;z-index:1;padding:0;margin:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yaAdSdk_iosVideoCurtain{position:absolute;width:100%;height:100%;top:0}";
},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise,a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t,r(1),r(43),r(74),r(67)],o=function(e,t,n,o,s,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=r(76),l="2.0",c=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.paused=!0,o.adParameters=r.vastAd.adParameters,o.onClickThrough.add(function(e){e.playerHandles&&o.clickThrough(e),o.trackEvent(n.TrackingEventType.CLICK_THROUGH)}),o.on({firstQuartile:function(){return o.trackEvent(n.TrackingEventType.FIRST_QUARTILE)},midpoint:function(){return o.trackEvent(n.TrackingEventType.MIDPOINT)},thirdQuartile:function(){return o.trackEvent(n.TrackingEventType.THIRD_QUARTILE)},pause:function(){o.paused=!0,o.trackEvent(n.TrackingEventType.PAUSE)},resume:function(){o.paused=!1,o.trackEvent(n.TrackingEventType.RESUME)},skip:function(){return o.trackEvent(n.TrackingEventType.SKIP)},close:function(){return o.trackEvent(n.TrackingEventType.CLOSE)},start:function(){o.paused=!1,o.trackEvent(n.TrackingEventType.CREATIVE_VIEW)},videoStart:function(){return o.trackEvent(n.TrackingEventType.START)},complete:function(){return o.trackEvent(n.TrackingEventType.COMPLETE)},impression:function(){var e;new i(function(t,r){e=setInterval(function(){try{o.getCurrentTime()+.1>o.impressionTrackOffset&&t()}catch(e){r(e)}},.1)}).then(function(){o.trackEvent(n.TrackingEventType.IMPRESSION),clearInterval(e)})["catch"](function(t){o.trackEvent(n.TrackingEventType.IMPRESSION),o.trackError(t),clearInterval(e)})},error:function(e){return o.trackError(e)}}),o.onMuteChangeCallback=function(e){return o.emit("muteChange",e)},o.once({error:function(e){return o.onStop.trigger("string"==typeof e?new Error("AdSDK Js Error: Error from VPAID: "+e):e?e:new Error("AdSDK error: unknown error from VPAID creative"))},start:function(){o.isStarted=!0,o.updatePositionInterval=setInterval(function(){try{o.updatePosition()}catch(e){clearInterval(o.updatePositionInterval)}},500)},stop:function(){clearInterval(o.updatePositionInterval)}}),o.onDestroy.add(function(){o.videoNodeController.onMuteChange.remove(o.onMuteChangeCallback),o.creative&&o.creative.stopAd(),o.removeControls(),clearInterval(o.updatePositionInterval)}),o}return a(t,e),t.isVPAIDCreative=function(e){return e&&"function"==typeof e.handshakeVersion&&"function"==typeof e.initAd&&"function"==typeof e.startAd&&"function"==typeof e.stopAd&&"function"==typeof e.skipAd&&"function"==typeof e.resizeAd&&"function"==typeof e.pauseAd&&"function"==typeof e.resumeAd&&"function"==typeof e.expandAd&&"function"==typeof e.collapseAd&&"function"==typeof e.subscribe&&"function"==typeof e.unsubscribe},t.isSupportedVersion=function(e){for(var t=l.split(".").map(function(e){return parseInt(e,10)}),r=e.split(".").map(function(e){return parseInt(e,10)}),n=0;n<r.length;n++){var o=r[n],i=t[n],a="undefined"==typeof i?0:i;if(o>a)return!1;if(o<a)return!0}return!0},t.prototype.play=function(e){var t=this;void 0===e&&(e=!0);var r=function(r){e&&(t.containerNode.style.display="block",t.isStarted?r.resumeAd():(t.isStarted=!0,r.startAd()))};return this.creative?r(this.creative):this.preload().then(r)["catch"](function(e){return t.onStop.trigger(e)}),this.onStop.promise().then(function(e){return t.paused=!0,e?i.reject(e):i.resolve()})},t.prototype.getCurrentTime=function(){var e=this.creative&&"function"==typeof this.creative.getAdRemainingTime&&this.creative.getAdRemainingTime()||0;return this.getDuration()-e},t.prototype.pause=function(){this.creative&&this.creative.pauseAd()},t.prototype.resume=function(){this.creative&&this.creative.resumeAd()},t.prototype.skip=function(){this.creative&&this.creative.skipAd()},t.prototype.getSkippable=function(){return!this.creative||"function"!=typeof this.creative.getAdSkippableState||this.creative.getAdSkippableState()},t.prototype.getDuration=function(){return this.creative&&"function"==typeof this.creative.getAdDuration&&this.creative.getAdDuration()||this.mediaAd.duration||0},t.prototype.getAdWidth=function(){if(this.creative){var e=this.creative.adWidth;if("number"==typeof e)return e}return 0},t.prototype.getAdHeight=function(){if(this.creative){var e=this.creative.adHeight;if("number"==typeof e)return e}return 0},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r="normal");var n=this.creative;n&&n.resizeAd(e,t,r)},t.prototype.getSrc=function(){return this.getScriptSrc()},t.prototype.getPaused=function(){return this.paused},t.prototype.getVolume=function(){var e=this.creative;return e&&e.getAdVolume?e.getAdVolume():0},t.prototype.setVolume=function(e){var t=this.creative;t&&t.setAdVolume&&t.setAdVolume(e)},t.prototype.preload=function(){var e=this;return this.preloadPromise||(this.videoNodeController.onMuteChange.add(this.onMuteChangeCallback),this.preloadPromise=this.initCreative().then(function(t){if("function"==typeof t.getAdUnitId){var r=t.getAdUnitId();r&&s["default"].addUnit(r)}return e.creative=t,e.onReady.trigger(void 0),t})),this.preloadPromise},t.prototype.initCreative=function(){var e=this;return this.createControls().then(function(){return e.putScriptInIFrame()}).then(function(){var t=e.getVPAIDAd(),r=e.mediaAd.weborama;if(r){var n=new WBViewAbility;n.init(e.videoWrapperNode,r.wbStatData,t)}return new i(function(r,n){var o=function(){t.unsubscribe(i,"AdLoaded"),t.unsubscribe(a,"AdError")},i=function(){o(),r(t)},a=function(e){o(),n(e)};t.subscribe(i,"AdLoaded"),t.subscribe(a,"AdError");var s=e.videoNodeController.videoNode,u=s.clientWidth,d=s.clientHeight,l="normal",c=e.adDisplayController.desiredBitrate||700,p={AdParameters:e.adParameters},f={slot:e.iframe.contentDocument.body,videoSlot:e.videoNodeController.videoNode,videoSlotCanAutoPlay:!0,isYandexAdPlayer:!0};e.subscribeCreativeEvents(t),t.initAd(u,d,l,c,p,f)})})},t.prototype.createControls=function(){var e=this;return new i(function(t){var r=e.videoWrapperNode,n=e.containerNode=document.createElement("div");n.className="yaAdSdkVpaidContainer",n.style.display="none",r.style.position="relative";var o=e.style=document.createElement("style");o.type="text/css",o.innerHTML=d,n.appendChild(o);var i=e.iframe=document.createElement("iframe");i.scrolling="no",n.appendChild(i),i.addEventListener("load",function(){i.contentDocument.body.style.margin="0",t()});var a=e.adDisplayController.gui.wrapper.el;a.parentElement===r?r.insertBefore(n,a):r.appendChild(n)})},t.prototype.putScriptInIFrame=function(){var e=this;return new i(function(t,r){var n=e.iframe.contentWindow.document,o=n.createElement("script");o.type="text/javascript",o.src=e.getScriptSrc(),o.onload=t,o.onerror=r,n.head.appendChild(o)})},t.prototype.getVPAIDAd=function(){var e=this.iframe.contentWindow;if("function"!=typeof e.getVPAIDAd)throw new Error("VPAID does not provide getVPAIDAd function: "+this.getScriptSrc());var r="function"==typeof e.getVPAIDAd?e.getVPAIDAd():void 0;if(!t.isVPAIDCreative(r))throw new Error("VPAID does not implement all of the required functions: "+this.getScriptSrc());var n=r.handshakeVersion(l);if(!t.isSupportedVersion(n))throw new Error("Unsupported JS VPAID vpaidRequirementVersion["+n+"] "+("supportedVersion["+l+"] url["+this.getScriptSrc()+"]"));return r},t.prototype.removeControls=function(){o.removeNodeFromParent(this.containerNode)},t.prototype.getScriptSrc=function(){return this.getCurrentSource().src},t.prototype.getCurrentSource=function(){return this.mediaAd.sources.filter(function(e){return"js"===e.sourceType})[0]},t.prototype.subscribeCreativeEvents=function(e){var t=this,r={AdStarted:"start",AdUserClose:"close",AdVideoStart:"videoStart",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdPaused:"pause",AdPlaying:"resume",AdVolumeChange:"volumeChange",AdSizeChange:"sizeChange",AdSkipped:"skip",AdError:"error",AdImpression:"impression",AdBufferFull:"bufferFull",AdBufferEmpty:"bufferEmpty"},n=function(n){if(r.hasOwnProperty(n)){var o=r[n];e.subscribe(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.emit(o,e.length>1?e:e[0])},n)}};for(var o in r)n(o);e.subscribe(function(e){return t.onStop.trigger(e)},"AdStopped"),e.subscribe(function(e,r,n){Array.isArray(e)?t.onClickThrough.trigger({url:e[0],id:e[1],playerHandles:e[2]}):t.onClickThrough.trigger({url:e,id:r,playerHandles:n})},"AdClickThru")},t.prototype.updatePosition=function(){this.onCurrentPositionChange.trigger({currentTime:this.getCurrentTime(),duration:this.getDuration()})},Object.defineProperty(t.prototype,"videoWrapperNode",{get:function(){return this.adDisplayController.wrapperNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"videoNodeController",{get:function(){return this.adDisplayController.videoNodeController},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.adDisplayController.config},enumerable:!0,configurable:!0}),t}(u.Viewer);t["default"]=c}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(75),o=function(){function e(){}return e.addUnit=function(e){if("undefined"==typeof ya){var t=window;t.ya={}}if(!ya.videoAd){var r=ya;r.videoAd={}}Array.isArray(ya.videoAd.skipTokens)?ya.videoAd.skipTokens.indexOf(e)===-1&&ya.videoAd.skipTokens.push(e):ya.videoAd.skipTokens=[e]},e.toBase64=function(){var t=e.getUnits();return t.length?n.encode(t.map(function(e){return"yabs."+e}).join("\n")):void 0},e.getUnits=function(){return"undefined"!=typeof ya&&ya.videoAd&&Array.isArray(ya.videoAd.skipTokens)?ya.videoAd.skipTokens:[]},e}();t["default"]=o}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t){function r(e,t){t=t||1e6;var r,o,i,s,u,d,l,c="",p=0;for(e=n(e,3*t/4|0);p<e.length;)r=e.charCodeAt(p++),o=e.charCodeAt(p++),i=e.charCodeAt(p++),s=r>>2,u=(3&r)<<4|o>>4,d=(15&o)<<2|i>>6,l=63&i,isNaN(o)?d=l=64:isNaN(i)&&(l=64),c=c+a.charAt(s)+a.charAt(u)+a.charAt(d)+a.charAt(l);return c}function n(e,t){e=e.replace(/\r\n/g,"\n");for(var r,n="",o=0;o<e.length;o++){var i=e.charCodeAt(o);if(i<128?r=s(i):i>127&&i<2048?(r=s(i>>6|192),r+=s(63&i|128)):(r=s(i>>12|224),r+=s(i>>6&63|128),r+=s(63&i|128)),n.length+r.length>t)break;n+=r}return n}function o(e){var t,r,n,o,s,u,d,l="",c=0;for(e=e.replace(/[^A-Za-z0-9\-\_\=]/g,"");c<e.length;)o=a.indexOf(e.charAt(c++)),s=a.indexOf(e.charAt(c++)),u=a.indexOf(e.charAt(c++)),d=a.indexOf(e.charAt(c++)),t=o<<2|s>>4,r=(15&s)<<4|u>>2,n=(3&u)<<6|d,l+=String.fromCharCode(t),64!=u&&(l+=String.fromCharCode(r)),64!=d&&(l+=String.fromCharCode(n));return i(l)}function i(e){for(var t="",r=0,n=0,o=0;r<e.length;)if(n=e.charCodeAt(r),n<128)t+=String.fromCharCode(n),r++;else if(n>191&&n<224)o=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&o),r+=2;else{o=e.charCodeAt(r+1);var i=e.charCodeAt(r+2);t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&i),r+=3}return t}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",s=String.fromCharCode;e.exports={encode:r,decode:o}},function(e,t){e.exports=".yaAdSdkVpaidContainer{position:absolute;top:0;right:0;bottom:0;left:0}.yaAdSdkVpaidContainer>iframe{position:absolute;top:0;left:0;width:100%;height:100%;margin:0;padding:0;border:0}"},function(e,t,r){var n,o;n=[r,t,r(78),r(79),r(18),r(80),r(42),r(81),r(17)],o=function(e,t,r,n,o,i,a,s,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e){var t=this;this.videoNode=e,this.onClick=new o["default"],this.onDestroy=new o["default"],this.onCurrentPositionChange=new o["default"],this.onPlayingStateChange=new o["default"],this.onError=new o["default"],this.onEnd=new o["default"],this.onMuteChange=new o["default"],this.onPlay=new o["default"],this.onPlayAfterPause=new o["default"],this.onPause=new o["default"],this.onBufferingChange=new o["default"],this.onPlaying=new o["default"],this.fullscreenApi=new i.FullscreenApi,this.onPlayingStateChangeInternal=new o["default"],this.currentState=this.videoNode.paused?"pause":"play";var n=e.paused,a=!1;this.onPlayingStateChangeInternal.add(function(e){if(t.currentState!==e){switch(t.onPlayingStateChange.trigger(e),e){case"play":n&&(n=!1,t.onPlayAfterPause.trigger(void 0)),t.onPlay.trigger(void 0);break;case"pause":n=!0,t.onPause.trigger(void 0);break;case"end":n=!0,t.onEnd.trigger(void 0)}var r="buffering"===e;a!==r&&(a=r,t.onBufferingChange.trigger(a)),t.currentState=e}});var s=!1,d=0,l=function(){t.onCurrentPositionChange.trigger({currentTime:e.currentTime||0,duration:e.duration||0})},c=u.isIOS()&&11===u.getIOSVersion()?"touchstart":"click",p=(w={},w[c]=function(){t.onClick.trigger(void 0)},w.error=function(){return t.onError.trigger(t.getVideoNodeError())},w.timeupdate=l,w.play=function(){d||(d=setInterval(l,500)),t.onPlayingStateChangeInternal.trigger("play")},w.playing=function(){s=t.getMuted(),t.onPlaying.trigger(void 0),t.onPlayingStateChangeInternal.trigger("play")},w.ended=function(){t.onPlayingStateChangeInternal.trigger("end")},w.pause=function(){e.currentTime!==e.duration&&t.onPlayingStateChangeInternal.trigger("pause")},w.volumechange=function(){var e=t.getMuted();s!==e&&(s=e,t.onMuteChange.trigger(e))},w),f=function(){e.paused&&"play"===t.currentState&&t.onPlayingStateChangeInternal.trigger("pause")},h=r.VIDEO_TIMEUPDATE_INTERVAL,v=0,y=0,m=!1,g=function(){y=t.videoNode.currentTime;var e=1/h;!m&&y<v+e&&!t.videoNode.paused&&(t.onPlayingStateChangeInternal.trigger("buffering"),m=!0),m&&y>v+e&&!t.videoNode.paused&&(t.onPlayingStateChangeInternal.trigger(t.videoNode.paused?"pause":"play"),m=!1),v=y},E=setInterval(function(){f(),g()},h);this.onDestroy.add(function(){return clearInterval(E)});for(var A in p)p.hasOwnProperty(A)&&e.addEventListener(A,p[A]);this.onDestroy.add(function(){for(var r in p)p.hasOwnProperty(r)&&e.removeEventListener(r,p[r]);clearInterval(d),t.fullscreenApi.destroy()});var w}return e.prototype.play=function(){a.muffleUncaughtErrors(this.videoNode.play())},e.prototype.pause=function(){this.videoNode.pause()},e.prototype.setMute=function(e){this.setVolume(e?0:1)},e.prototype.setSrc=function(e){var t=this.videoNode;s.preventPause(t,function(){t.src=e})},e.prototype.getWidth=function(){return this.videoNode.clientWidth},e.prototype.getHeight=function(){return this.videoNode.clientHeight},e.prototype.getCurrentTime=function(){return this.videoNode.currentTime},e.prototype.setCurrentTime=function(e){this.videoNode.currentTime=e},e.prototype.setVisibleControls=function(e){this.videoNode.controls=e},e.prototype.setPoster=function(e){this.videoNode.poster=e},e.prototype.isFullscreen=function(){return this.fullscreenApi.getFullscreenElement()===this.videoNode},e.prototype.getPaused=function(){return this.videoNode.paused},e.prototype.destroy=function(){this.onDestroy.trigger(void 0)},e.prototype.getMuted=function(){return 0===this.getVolume()},e.prototype.getVolume=function(){return this.videoNode.muted?0:this.videoNode.volume},e.prototype.setVolume=function(e){this.videoNode.volume=e,this.videoNode.muted=0===e},e.prototype.getVideoNodeError=function(){if(!this.videoNode.error||"undefined"==typeof MediaError)return new n["default"](n["default"].VIDEO_ERROR,"Cannot play the video source");switch(this.videoNode.error.code){case MediaError.MEDIA_ERR_ABORTED:return new n["default"](n["default"].FETCHING_ABORTED,"The fetching process for the video resource was aborted by the user agent");case MediaError.MEDIA_ERR_NETWORK:return new n["default"](n["default"].NETWORK_ERROR,"A network error occurred");case MediaError.MEDIA_ERR_DECODE:return new n["default"](n["default"].DECODE_ERROR,"An error occurred while decoding the video resource");case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return new n["default"](n["default"].SRC_NOT_SUPPORTED,"AdSDK VideoError: video src not supported: "+this.videoNode.currentSrc);default:return new n["default"](n["default"].VIDEO_ERROR,"Unresolved video error")}},e}();t["default"]=d}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_TIMEUPDATE_INTERVAL=250}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,r){var n=e.call(this,r)||this;return n.id=t,n.message=r,n}return i(t,e),t.NO_APPROPRIATE_VIDEO_SOURCE=52,t.FETCHING_ABORTED=101,t.NETWORK_ERROR=102,t.DECODE_ERROR=103,t.SRC_NOT_SUPPORTED=104,t.VIDEO_ERROR=10,t}(Error);t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.handlers=[],this.globalListener=function(t){var r=e.getFullscreenElement();e.handlers.forEach(function(e){return e(r)})},this.names=function(){for(var e=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}],t=0;t<e.length;t++){var r=e[t];if(r.exit in document)return r}}(),this.keyboardAllowed="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,this.names&&document.addEventListener(this.names.events.change,this.globalListener)}return e.prototype.requestFullscreenForElement=function(e){var t=e;if(void 0===this.names)throw new Error("Fullscreen is not supported");var r=Element,n=this.names.request;/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[n]():t[n](this.keyboardAllowed&&r.ALLOW_KEYBOARD_INPUT)},e.prototype.exit=function(){if(void 0===this.names)throw new Error("Fullscreen is not supported");var e=document;e[this.names.exit]()},e.prototype.getFullscreenElement=function(){var e=document;if(this.names){var t=e[this.names.element];return t||void 0}},e.prototype.addHandler=function(e){if("function"!=typeof e)throw new Error("Fullscreen handler must be a function");this.handlers.push(e)},e.prototype.removeHandler=function(e){this.handlers=this.handlers.filter(function(t){return t!==e})},e.prototype.destroy=function(){this.handlers=[];var e=this.names;e&&document.removeEventListener(e.events.change,this.globalListener)},e}();t.FullscreenApi=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(42)],o=function(e,t,r){"use strict";function n(e,t){var n=e.paused;t(),n||r.muffleUncaughtErrors(e.play())}Object.defineProperty(t,"__esModule",{value:!0}),t.preventPause=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(83),r(38),r(85),r(39),r(81),r(86),r(45)],o=function(e,t,r,n,o,i,a,s,u){"use strict";function d(e,t){var r=["controls","loop"];n.getObjectKeys(t).forEach(function(n){r.indexOf(n)!==-1&&(e[n]=t[n])})}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){void 0===t&&(t=!1),this.videoTagProps={controls:e.controls,loop:e.loop,currentTime:t?e.currentTime:NaN};var r=e.getAttribute("poster"),n=e.getAttribute("src")||e.src;this.videoTagAttributes={autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),loop:e.getAttribute("loop"),poster:""===r?null:r,preload:e.getAttribute("preload"),src:n?n:null,width:e.getAttribute("width"),style:e.getAttribute("style")},this.sources=Array.prototype.slice.call(e.getElementsByTagName("source")).map(function(e){return{src:e.getAttribute("src"),type:e.getAttribute("type")}})}return e.prototype.hasMedia=function(){return Boolean(this.videoTagAttributes.src||this.sources.filter(function(e){return e.src}).length)},e.prototype.applyTo=function(e){var t=this;if(o.setAttributes(e,this.videoTagAttributes),d(e,this.videoTagProps),s.removeAllChildFromNode(e),this.sources.forEach(function(t){u.appendNewElement("source",e,"",t)}),r.canChangeVideoVolume&&(0===e.volume||e.muted)?(e.volume=0===e.volume?i.DEFAULT_VOLUME:e.volume,e.muted=!0):e.muted&&(e.muted=!1,e.dispatchEvent(new Event("volumechange"))),a.preventPause(e,function(){e.load()}),this.hasMedia()&&!isNaN(this.videoTagProps.currentTime)){var n=function(){e.currentTime=t.videoTagProps.currentTime,e.removeEventListener("canplay",n)};e.addEventListener("canplay",n)}},e}();t["default"]=l}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(84)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canChangeVideoVolume=r.getIfCanChangeVolume()}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(){var e=document.createElement("video"),t=e.volume;return e.volume=0===t?1:0,e.volume!==t}Object.defineProperty(t,"__esModule",{value:!0}),t.getIfCanChangeVolume=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(38)],o=function(e,t,r){"use strict";function n(e,t){r.getObjectKeys(t).forEach(function(r){var n=t[r];null===n?e.removeAttribute(r):e.setAttribute(r,n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.setAttributes=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(e){for(;e.firstChild;)e.removeChild(e.firstChild)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildFromNode=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise,a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t,r(41),r(79),r(1),r(6),r(43),r(17),r(88),r(67)],o=function(e,t,r,n,o,s,u,d,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,r){var n=e.call(this,t,r)||this;n.videoCurrentTime=NaN,n.videoDuration=NaN,n.videoNodeController=t.videoNodeController,n.onMuteChange=function(e){n.isPlaying&&n.trackEvent(e?o.TrackingEventType.MUTE:o.TrackingEventType.UNMUTE),n.emit("muteChange",e)};var i=!1,a=!1,s=!1,d=!1,l=!1;n.onCurrentPositionChange.add(function(e){var t=e.currentTime,o=e.duration;!i&&t>=n.impressionTrackOffset&&(i=!0,n.emit("impression")),!a&&t>=r.playbackParams.progressOffset&&(a=!0,n.emit("progress")),!s&&t>=o/4&&t<=o/2&&(s=!0,n.emit("firstQuartile")),!d&&t>=o/2&&t<=3*o/4&&(d=!0,n.emit("midpoint")),!l&&t>=3*o/4&&(l=!0,n.emit("thirdQuartile"))}),n.on({firstQuartile:function(){return n.trackEvent(o.TrackingEventType.FIRST_QUARTILE)},midpoint:function(){return n.trackEvent(o.TrackingEventType.MIDPOINT)},thirdQuartile:function(){return n.trackEvent(o.TrackingEventType.THIRD_QUARTILE)},pause:function(){return n.trackEvent(o.TrackingEventType.PAUSE)},skip:function(){return n.trackEvent(o.TrackingEventType.SKIP)},complete:function(){return n.trackEvent(o.TrackingEventType.COMPLETE)},impression:function(){return n.trackEvent(o.TrackingEventType.IMPRESSION)},progress:function(){return n.trackEvent(o.TrackingEventType.PROGRESS)},resume:function(){return n.trackEvent(o.TrackingEventType.RESUME)}}),n.onClickThrough.add(function(){n.trackEvent(o.TrackingEventType.CLICK_THROUGH),n.clickThrough()}),n.videoNodeController.isFullscreen()&&n.trackEvent(o.TrackingEventType.FULLSCREEN),n.when("start").then(function(){n.trackEvent(o.TrackingEventType.START),n.trackEvent(o.TrackingEventType.CREATIVE_VIEW)});var c=function(){n.videoNodeController.isFullscreen()?n.trackEvent(o.TrackingEventType.FULLSCREEN):n.trackEvent(o.TrackingEventType.EXIT_FULLSCREEN)};return n.videoNodeController.fullscreenApi.addHandler(c),n.onDestroy.add(function(){n.videoNodeController.onBufferingChange.remove(n.onBufferingChangeCallback),n.onCurrentTimeChangeCallback&&n.videoNodeController.onCurrentPositionChange.remove(n.onCurrentTimeChangeCallback),n.videoNodeController.onMuteChange.remove(n.onMuteChange),n.videoNodeController.fullscreenApi.removeHandler(c),n.curtain&&u.removeNodeFromParent(n.curtain)}),n}return a(t,e),t.prototype.resume=function(){this.videoNodeController.play()},t.prototype.play=function(e){var t=this;return void 0===e&&(e=!0),this.preload()["catch"](function(e){return t.onStop.trigger(e)}),e?this.isStarted?this.resume():this.start():this.videoNodeController.onPlay.addOne(function(){t.isStarted||t.videoNodeController.videoNode.currentSrc===t.preferredSource.src&&t.start()}),this.onStop.promise().then(function(e){return e?i.reject(e):i.resolve()})},t.prototype.pause=function(){this.videoNodeController.pause()},t.prototype.skip=function(e){void 0===e&&(e=o.TrackingEventType.SKIP),this.emit("skip"),this.onStop.trigger(void 0)},t.prototype.getSkippable=function(){return this.playbackParams.skipDelay>0&&this.getCurrentTime()>this.playbackParams.skipDelay},t.prototype.getAdWidth=function(){var e=this.videoNodeController.videoNode;return e.videoWidth>0?e.videoWidth:this.preferredSource?this.preferredSource.width:0},t.prototype.getAdHeight=function(){var e=this.videoNodeController.videoNode;return e.videoHeight>0?e.videoHeight:this.preferredSource?this.preferredSource.height:0},t.prototype.getCurrentTime=function(){return this.videoCurrentTime},t.prototype.getDuration=function(){return this.videoDuration||this.mediaAd.duration},t.prototype.getSrc=function(){return this.preferredSource?this.preferredSource.src:""},t.prototype.getPaused=function(){return this.videoNodeController.getPaused()},t.prototype.getVolume=function(){return this.videoNodeController.getVolume()},t.prototype.setVolume=function(e){this.videoNodeController.setVolume(e)},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r="normal")},t.prototype.setCurtain=function(){var e=this;if(d.isIOS9OrLess()&&d.isIOSWebView()){this.curtain=d.createDiv("yaAdSdk_iosVideoCurtain_wrapper");var t=d.createDiv("yaAdSdk_iosVideoCurtain");this.curtain.appendChild(t),this.curtain.addEventListener("click",function(){return e.clickThrough()});var r=this.adDisplayController,n=r.videoNode,o=r.wrapperNode,i=n.nextSibling,a=n.parentNode,s=a===o&&i?i:o.firstChild;o.insertBefore(this.curtain,s)}},t.prototype.getPreferredSource=function(e){for(var t,r=[],o=this.videoNodeController.videoNode,a=0,s=e.length;a<s;a++){var u=e[a];"probably"===o.canPlayType(u.type)&&r.push(u)}if(0===r.length)for(var a=0,s=e.length;a<s;a++){var u=e[a];"maybe"===o.canPlayType(u.type)&&r.push(u)}if(0===r.length)for(var a=0,s=e.length;a<s;a++){var u=e[a];"video"===u.sourceType&&"video/mp4"!==u.type&&u.src.indexOf(".mp4")>-1&&r.push(u)}if(0===r.length)return i.reject(new n["default"](n["default"].NO_APPROPRIATE_VIDEO_SOURCE,"Cannot find an appropriate video source."));r.sort(function(e,t){return e.bitrate&&t.bitrate?e.bitrate-t.bitrate:e.width&&t.width?e.width-t.width:e.height&&t.height?e.height-t.height:0});var d=this.adDisplayController.desiredBitrate;if("number"==typeof d){var l=r.filter(function(e){return!!e.bitrate});if(l.length)return l.reduce(function(e,t){return Math.abs(d-e.bitrate)<Math.abs(d-t.bitrate)?e:t})}for(var a=0;a<this.adDisplayController.qualityLevel&&r.length>1;a++)r.shift();for(var c=Number.MAX_VALUE,a=0,s=r.length;a<s;a++){var u=r[a],p=Math.max(Math.abs(this.videoNodeController.getWidth()-u.width),Math.abs(this.videoNodeController.getHeight()-u.height));p<c&&(c=p,t=u)}var f=t;if(f)return/\.yandex\.(ru|net)\/get/.test(f.src)?this.loadSourceRedirect(f.src).then(function(e){return f.src=e,f}):f;var h="Cannot find an appropriate video source.";return e.some(function(e){return e.isVpaid})&&(h="VPAID returned. "+h),i.reject(new n["default"](n["default"].NO_APPROPRIATE_VIDEO_SOURCE,h))},t.prototype.loadSourceRedirect=function(e){var t=new XMLHttpRequest;return void 0===t.responseURL?i.resolve(e):new i(function(t){var r=new XMLHttpRequest;r.open("HEAD",s.fixUrlSheme(e)),r.timeout=2e3,r.onload=function(){t(200===r.status?r.responseURL:e)},r.onerror=function(){return t(e)},r.ontimeout=function(){return t(e)},r.send()})["catch"](function(){return e})},t.prototype.preload=function(){var e=this;if(!this.preloadPromise){var t=this.getPreferredSource(this.mediaAd.sources),r=this.mediaAd.imageSources[0];r&&this.videoNodeController.setPoster(r.src),t instanceof i?this.preloadPromise=t.then(function(t){e.setMediaSource(t)}):(this.preloadPromise=i.resolve(),this.setMediaSource(t))}return this.preloadPromise},t.prototype.setMediaSource=function(e){this.preferredSource=e,this.videoNodeController.setSrc(e.src),this.onReady.trigger(void 0)},t.prototype.subscribeEvents=function(){var e=this,t=this.mediaAd,n=this.videoNodeController;this.videoNodeController.onMuteChange.add(this.onMuteChange);var a=!1,s=function(){a&&e.emit("resume")};this.videoNodeController.onPlayAfterPause.add(s),this.onDestroy.addOne(function(){return e.videoNodeController.onPlayAfterPause.remove(s)});var u=function(){return e.emit("pause")};this.videoNodeController.onPause.add(u),this.onDestroy.addOne(function(){return e.videoNodeController.onPause.remove(u)});var d=0,c=0;this.onBufferingChangeCallback=function(n){0===d?d++:n?++d>t.playbackParams.bufferEmptyLimit?e.onStop.trigger(new r["default"]("Buffer empty limit",r["default"].BUFFER_EMPTY_LIMIT)):e.trackEvent(l["default"].BUFFER_EMPTY):e.trackEvent(l["default"].BUFFER_FULL),clearTimeout(c),n&&(c=setTimeout(function(){e.onStop.trigger(new r["default"]("Buffer full timeout",r["default"].BUFFER_FULL_TIMEOUT))},e.mediaAd.playbackParams.bufferFullTimeout),e.onStop.addOne(function(){return clearTimeout(c)}),e.onDestroy.addOne(function(){return clearTimeout(c)}))},this.videoNodeController.onBufferingChange.add(this.onBufferingChangeCallback),n.onError.add(function(t){return e.onStop.trigger(t)}),this.onCurrentTimeChangeCallback=function(r){var n=r.currentTime,o=r.duration;if(!o){if(!t.duration)return;o=t.duration}e.videoCurrentTime=n,e.videoDuration=o,e.onCurrentPositionChange.trigger({currentTime:n,duration:o})},n.onCurrentPositionChange.add(this.onCurrentTimeChangeCallback);var p=0,f=function(){p++,1===p?e.emit("complete"):e.trackEvent(o.TrackingEventType.COMPLETE+p),p===t.numRepeats?e.onStop.trigger(void 0):e.videoNodeController.play()};this.videoNodeController.onEnd.add(f);var h=function(){e.mediaAd.clickThroughUrl&&e.onClickThrough.trigger({})};this.videoNodeController.onClick.add(h),this.onDestroy.add(function(){e.videoNodeController.onClick.remove(h),e.videoNodeController.onEnd.remove(f)}),new i(function(t){var r=function(n){var o=n.currentTime;o>0&&(t(),e.onCurrentPositionChange.remove(r))};n.onPlaying.promise().then(t),e.onCurrentPositionChange.add(r)}).then(function(){a=!0,e.emit("start")})},t.prototype.start=function(){
this.isStarted=!0,this.subscribeEvents(),this.setCurtain(),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)},t}(c.Viewer);t["default"]=p}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={BUFFER_EMPTY:"bufferEmpty",BUFFER_FULL:"bufferFull"};t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(6)],o=function(e,t,r){"use strict";function n(e){r.knock("https://www.tns-counter.ru/V13a**dvid:**yandexvideo_network/ru/UTF-8/tmsec=yandexvideo_videonetwork"+((e||"")+"/"+Math.ceil(Math.random()*Math.pow(10,16))))}Object.defineProperty(t,"__esModule",{value:!0}),t.trackTns=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(65),r(91),r(14),r(6),r(74),r(16),r(17),r(92),r(95),r(96)],o=function(e,t,r,n,o,a,s,u,d,l,c,p){"use strict";function f(e,t){var r=e.targetRef,n=e.width,i=e.height,d=e.videoContentId,l=e.videoContentName,c=e.videoPublisherId,p=e.videoPublisherName,f=e.videoGenreId,h=e.videoGenreName,v=e.musicArtistId,y=e.tagsList,m=e.extParam,g=e.charset,A=e.playerInfo,w=t.partnerId,T=t.sessionId,_=t.id;return a.appendVersion(u.addUrlParams("https://an.yandex.ru/meta/"+w,{"imp-id":String(_),"target-ref":r||o.getWindowLocation(window),"page-ref":window.document.referrer,"video-width":n?String(n):void 0,"video-height":n?String(i):void 0,"video-content-id":d,"video-content-name":l,"video-publisher-id":c,"video-publisher-name":p,"video-genre-id":f?String(f):void 0,"video-genre-name":h?E(h):void 0,music_artist_id:v?String(v):void 0,"tags-list":y?E(y):void 0,"ext-param":m,charset:g||"UTF-8","video-session-id":T,"skip-token":s["default"].toBase64(),rnd:String(Math.random())}),A)}function h(e,t){return e.prerollVast&&"preroll"===t?e.prerollVast:e.postrollVast&&"postroll"===t?e.postrollVast:void 0}function v(e,t){var r;if("midroll"===t&&e.adFoxUrlMidRoll?r=e.adFoxUrlMidRoll:"pauseroll"===t&&e.adFoxUrlPauseRoll?r=e.adFoxUrlPauseRoll:"postroll"===t&&e.adFoxUrlPostRoll?r=e.adFoxUrlPostRoll:e.adFoxUrl&&(r=e.adFoxUrl),r){var n=u.getParamFromUrl(r,"fmt");return n?r:u.addUrlParams(r,{fmt:"1"})}}function y(e,t,r){var n,o=e.vastTimeout,i=e.wrapperMaxCount,a=e.wrapperTimeout;return n=t||r&&d.isAdFoxDomain(r)?"AD_FOX":r&&d.isYandexDomain(r)?"YANDEX":"EXTERNAL",{vastSourceType:n,vastTimeout:o,ignoreVastVersion:!1,wrapperMaxCount:i,wrapperTimeout:a}}function m(e,t){function r(){return(c?p["default"].fromXMLString(c,y(t,!1)):p["default"].load(l,y(t,!1,l)))["catch"](function(e){return a.trackError(e),i.reject(e)})}var n=t.adType,o=e.adFoxUrlVast,s=v(e,n),u=Boolean(s||o),d=h(e,n);if(d)return i.resolve(new p["default"]([d]));var l=e.vastUrl||f(e,t),c=e.vast;return u?function(){return o?p["default"].fromXMLString(o,y(t,!0)):s?p["default"].load(s,y(t,!0,s)):i.reject(new Error("AdSDK Error: AdManager: bad condition: adFoxUrl and adFoxVastString"))}()["catch"](function(e){return a.trackError(e),r()}):r()}function g(e,t){return m(e,t).then(function(e){if(0===e.ads.length)throw new n["default"]("No Ad section in the vast document",n["default"].NO_AD_SECTION);var o=e.ads.map(function(r){return r.vast=e,new l["default"](t,r)}),a=new c.MediaAds(o);if(a.hasMedia())return i.resolve(a);throw new r["default"](r["default"].NO_AD_TO_DISPLAY_MSG,r["default"].NO_AD_TO_DISPLAY)})}Object.defineProperty(t,"__esModule",{value:!0});var E=function(e){return"string"==typeof e?e:e.join("\n")};t.loadAd=g}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,r){var n=this.constructor,o=e.call(this,t)||this;return o.id=r,Object.setPrototypeOf&&Object.setPrototypeOf(o,n.prototype),o.message=t,o}return i(t,e),t.INVALID_VAST_XML=40,t.WRAPPER_MAX_COUNT_LIMIT=44,t.INCORRECT_SKIPOFFSET_FORMAT=46,t.ADFOX_VAST_LOAD_ERROR=47,t.VAST_LOAD_ERROR=48,t.NO_AD_SECTION=53,t.NO_VAST_ID_TAG_URI=54,t.VAST_LOAD_TIMEOUT=60,t.WRAPPER_LOAD_TIMEOUT=61,t.NO_INLINE_OR_WRAPPER_NODE=58,t.INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION=59,t}(Error);t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(23),r(1),r(6),r(16),r(17),r(45),r(93),r(94)],o=function(e,t,r,n,o,a,s,u,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=["image/jpeg","image/gif","image/png"],p=[n.TrackingEventType.START,n.TrackingEventType.FIRST_QUARTILE,n.TrackingEventType.MIDPOINT,n.TrackingEventType.THIRD_QUARTILE,n.TrackingEventType.COMPLETE,n.TrackingEventType.MUTE,n.TrackingEventType.UNMUTE,n.TrackingEventType.PAUSE,n.TrackingEventType.REWIND,n.TrackingEventType.RESUME,n.TrackingEventType.FULLSCREEN,n.TrackingEventType.EXIT_FULLSCREEN,n.TrackingEventType.EXPAND,n.TrackingEventType.COLLAPSE,n.TrackingEventType.ACCEPT_INVITATION,n.TrackingEventType.SKIP,n.TrackingEventType.PROGRESS,"closeLinear"],f=function(){function e(e,t){this.block=e,this.vastAd=t,this.numRepeats=1,this.duration=0,this.clickThroughUrl=t.clickThrough,this.numRepeats=t.numRepeats,this.duration=0,this.sources=t.mediaFiles.map(function(e){return new l["default"](e)}),this.imageSources=this.sources.filter(function(e){return c.indexOf(e.type)>-1}).sort(function(e,t){return c.indexOf(e.type)-c.indexOf(t.type)}),this.icons=t.icons.map(function(e){return d["default"].fromVastIcon(e)}),this.playbackParams={isClickable:t.isClickable&&Boolean(this.clickThroughUrl),title:e.title,description:t.description,showSkipTimeLeft:e.skipTimeLeftShow,showTimeLeft:e.timeLeftShow,showSoundButton:!0,showGuiForVpaid:!1,showSkipButton:!0,showTitle:!0,videoTimeout:e.videoTimeout,vpaidTimeout:e.vpaidTimeout,bufferFullTimeout:e.bufferFullTimeout,bufferEmptyLimit:e.bufferEmptyLimit,progressOffset:t.progressOffset,visitSiteShow:e.visitSiteShow,autoplay:!0,minimalGui:!1,skipDelay:0,pauseAllowed:!1,pauseOnClickThrough:!0},isNaN(t.skipOffset)?this.sources.length>0&&e.skipDelay:isNaN(t.skipTime)?this.playbackParams.skipDelay=0===e.skipDelay?t.skipOffset:Math.min(e.skipDelay,t.skipOffset):this.playbackParams.skipDelay=t.skipTime,isNaN(t.duration)||(this.duration=t.duration),t.imhoParams&&(this.playbackParams.showGuiForVpaid=!0,this.playbackParams.showTimeLeft=t.imhoParams.showCountDown,t.imhoParams.showLabel||(this.playbackParams.title=""),this.playbackParams.showSoundButton=t.imhoParams.showSoundButton,t.imhoParams.resetSkipDelay&&(this.playbackParams.skipDelay=0))}return e.prototype.toXML=function(){var e=(new DOMParser).parseFromString("<VAST></VAST>","application/xml"),t=e.querySelector("VAST");t.setAttribute("version","2.0");var r=this.vastAd,o=u.appendNewElement("Ad",t),i=u.appendNewElement("InLine",o);r.trackingEvents.impression&&r.trackingEvents.impression.forEach(function(e){return u.appendNewElement("Impression",o,e)}),r.trackingEvents.error&&r.trackingEvents.error.forEach(function(e){return u.appendNewElement("Error",o,e)});var a=u.appendNewElement("Creatives",i),d=u.appendNewElement("Creative",a),l=u.appendNewElement("Linear",d);this.duration&&u.appendNewElement("Duration",l,s.toVastTime(this.duration));var c=u.appendNewElement("TrackingEvents",l),p=function(e){if(n.TrackingEventType.hasOwnProperty(e)){var t=n.TrackingEventType[e];r.trackingEvents[t]&&r.trackingEvents[t].forEach(function(e){var n={event:t};"progress"===t&&(n.offset=String(s.toVastTime(r.progressOffset||0))),u.appendNewElement("Tracking",c,e,n)})}};for(var f in n.TrackingEventType)p(f);var h=u.appendNewElement("MediaFiles",l);r.mediaFiles.forEach(function(e){return u.appendNewElement("MediaFile",h,e.source,{width:e.width,height:e.height,bitrate:e.bitrate,apiFramework:e.isVpaid?"VPAID":null,type:e.type,delivery:e.delivery})}),r.adParameters&&u.appendNewElement("AdParameters",l,r.adParameters);var v=u.appendNewElement("VideoClicks",l);r.clickThrough&&u.appendNewElement("ClickThrough",v,r.clickThrough),r.trackingEvents.clickThrough&&r.trackingEvents.clickThrough.forEach(function(e){return u.appendNewElement("ClickTracking",v,e)});var y=u.appendNewElement("Extensions",i);return r.trackingEvents.dwell&&r.trackingEvents.dwell.forEach(function(e){u.appendNewElement("Extension",y,e,{type:"dwell"})}),r.skipTime&&u.appendNewElement("Extension",y,s.toVastTime(r.skipTime),{type:"skipTime"}),r.isClickable&&u.appendNewElement("Extension",y,"1",{type:"isClickable"}),r.comscoreLinks&&r.comscoreLinks.forEach(function(e){return u.appendNewElement("Extension",y,e,{type:"comscore"})}),e},e.prototype.toXMLString=function(){return(new XMLSerializer).serializeToString(this.toXML())},e.prototype.trackError=function(e){s.log("Track error ==> ",e),o.trackError(e,this.vastAd.trackingEvents.error)},e.prototype.trackEvent=function(e){var t=this;s.log("Track event ==> ",e);var n=this.vastAd.trackingEvents[e];return Array.isArray(n)?n.filter(a.isAbsoluteUrl).map(function(n){var s=a.getParamFromUrl(n,"vce4v");if("1"===s){var u=t.displayController,d=u.getAdWidth(),l=u.getAdHeight(),c=u.wrapperNode,p=u.videoNode;return cs_vce_.trackEvent(e,n,{ns_ad_cd:u.duration,ns_ad_fs:u.videoNodeController.isFullscreen(),ns_ad_vs:u.getMuted(),ns_ad_ctp:!t.playbackParams.autoplay,ns_ad_sz:c.clientWidth+"x"+c.clientHeight,ns_ad_ps:p.clientWidth+"x"+p.clientHeight,ns_ad_ct:"linear",ns_ad_of:"0x0",ns_ad_fts:r.isTouchDevice,ns_ad_fsr:d+"x"+l,ns_ad_fpt:"html5"},t.displayController.videoNode.id),{url:n,promise:i.resolve(!0)}}return"0"!==s?o.knock(n):{url:n,promise:i.reject(new Error('Cannot track url with "vce4v=0" parameter'))}}):[]},e.prototype.hasMedia=function(){return Boolean(this.sources&&this.sources.length)},e.prototype.initComscore=function(e){var t=this;this.displayController=e,this.vastAd.comscoreLinks.length&&this.vastAd.comscoreLinks.forEach(function(r){cs_vce_.init("yandex",{playerNode:e.videoNode,defaultTrackingURL:r}),p.forEach(function(e){t.vastAd.addEventUrl(e,r)})})},e.prototype.getUploadedVastList=function(){return this.vastAd.vast?this.vastAd.vast.getUploadedVastList():[]},Object.defineProperty(e.prototype,"contentType",{get:function(){var e={vpaid:[],video:[],swf:[]};return this.sources.forEach(function(t){if(t.isVpaid)if("js"===t.sourceType)e.vpaid.push(t);else{if("flash"!==t.sourceType)throw new Error("AdSDKJS Error: unexpected mediaSource vpaid type: "+t.sourceType);e.swf.push(t)}else e.video.push(t)}),e.vpaid.length?"js":e.video.length?"video":"flash"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weborama",{get:function(){return this.vastAd.weborama},enumerable:!0,configurable:!0}),e}();t["default"]=f}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}return e.fromVastIcon=function(t){var r=new e;return r.src=t.src,r.type=t.program,r.x=t.xPosition,r.y=t.yPosition,r.width=t.width,r.height=t.height,r},e}();t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=e.source,r=e.type,n=e.bitrate,o=e.width,i=e.height,a=e.isVpaid;this.src=t,this.bitrate=n,this.width=o,this.height=i,this.type=r,this.isVpaid=a,this.sourceType=function(){if(a){if("application/javascript"===r||"application/x-javascript"===r)return"js";if("application/x-shockwave-flash"===r)return"flash";throw new Error("AdSDKJS Error: unexpected mediaSource VPAID type: "+r)}return"video"}()}return e}();t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){if(0===e.length)throw new Error("Media ads created with no-ad");this.mediaAds=e.sort(function(e,t){return e.vastAd.sequence-t.vastAd.sequence})}return e.prototype.getDuration=function(){return this.mediaAds.reduce(function(e,t){return e+t.duration},0)},e.prototype.getFirstMediaAd=function(){return this.mediaAds[0]},e.prototype.hasMedia=function(){return this.mediaAds.filter(function(e){return e.hasMedia()}).length>0},e}();t.MediaAds=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(97),r(91),r(6),r(7),r(8),r(17),r(98)],o=function(e,t,r,n,o,a,s,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l="{REFERER}",c=["2.0","3.0"],p=function(){function e(e){if(this.ads=e,this.childs=[],!Array.isArray(e))throw new Error("AdSDK JS Error: VAST: ads must be an array")}return e.load=function(t,r){return t?e.loadInternal(t.replace(l,encodeURIComponent(u.getReferrer())),r):i.reject(new Error("AdSDK JS Error: VAST: undefined vast url"))},e.fromXMLString=function(t,r){var o;try{o=(new DOMParser).parseFromString(t,"application/xml")}catch(a){return i.reject(new n["default"]("Inline VAST syntax error: "+a,n["default"].INVALID_VAST_XML))}try{return e.fromXml(o,r)}catch(s){return i.reject(s)}},e.loadInternal=function(t,r){var u=r.vastTimeout;return s.pushToStatistics("VastLoadStart",{url:t,parsingParameters:r,timeout:u}),o.load(t,null,u).then(function(n){return s.pushToStatistics("VastLoadSuccess",{url:t,xml:n?(new XMLSerializer).serializeToString(n):n,timeout:u}),e.fromXml(n,r)})["catch"](function(e){if(e.isTimeoutError){var o=new n["default"]("VAST load timeout ["+u+"]["+t+"]",n["default"].VAST_LOAD_TIMEOUT);return a.pushErrorToStatistics(o,"VastLoadError"),i.reject(o)}var s=e.message,d=e.id;return e.message=s?s+"["+t+"]":"Unexpected VAST loading error",e.id=d?d:"AD_FOX"===r.vastSourceType?n["default"].ADFOX_VAST_LOAD_ERROR:n["default"].VAST_LOAD_ERROR,a.pushErrorToStatistics(e,"VastLoadError"),i.reject(e)})},e.fromXml=function(t,o){if(!t)throw new n["default"]("No XML ["+String(t)+"]",n["default"].INVALID_VAST_XML);var a=t.querySelector("VAST");if(!a)throw new n["default"]("No VAST tag found",n["default"].INVALID_VAST_XML);var s=a.getAttribute("version");if(!o.ignoreVastVersion&&s&&c.indexOf(s)===-1)throw new n["default"]("Invalid VAST document version ["+s+"]",n["default"].INVALID_VAST_XML);var u=Array.prototype.slice.call(t.querySelectorAll("VAST Ad"));if(0===u.length)return i.resolve(new e([]));var l=[];return i.all(u.map(function(t){var a=d["default"].fromXml(t),s=a.type;if("InLine"===s)return[a];if("Wrapper"===s){if(--o.wrapperMaxCount<1)throw new n["default"]("Wrappers max count limit",n["default"].WRAPPER_MAX_COUNT_LIMIT);var u=a.vastAdTagUri;if(u){var c=o.wrapperTimeout,p=r.promiseTimeout(c);return i.race([p.promise.then(function(){throw new n["default"]("Wrapper load timeout["+c+"]["+u+"]",n["default"].WRAPPER_LOAD_TIMEOUT)}),e.loadInternal(u,o).then(function(e){return p.clear(),l.push(e),e.ads.map(function(e){return e.merge(a),e})})])}throw new n["default"]("There is no VASTAdTagURI in Wrapper node",n["default"].NO_VAST_ID_TAG_URI)}throw new Error("Unresolved VastAd type "+s)})).then(function(r){var n=new e(r.reduce(function(e,t){return e.concat(t)},[]));return n.xml=t,n.childs=l,n})},e.prototype.toVastXMLTree=function(){return{xml:this.xml||null,childs:this.childs.map(function(e){return e.toVastXMLTree()})}},e.prototype.getUploadedVastList=function(){var e=this.toVastXMLTree(),t=[],r=function(e){e.xml&&t.push(e.xml),e.childs.forEach(r)};return r(e),t.filter(function(e){return null!==e})},e}();t["default"]=p}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(54).Promise:Promise;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseTimeout=function(e){var t=0;return{promise:new i(function(r){t=window.setTimeout(r,e)}),clear:function(){clearTimeout(t)}}}}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(91),r(99),r(6),r(17),r(45),r(100),r(101),r(102),r(103)],o=function(e,t,r,n,o,i,a,s,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=["rtb","direct"],c=function(){function e(){this.adParameters="",this.mediaFiles=[],this.icons=[],this.trackingEvents={},this.clickThrough="",this.skipTime=NaN,this.skipOffset=NaN,this.progressOffset=NaN,this.vastAdTagUri=void 0,this.duration=NaN,this.isClickable=!0,this.numRepeats=1,this.comscoreLinks=[],this.isDirectVPAID=!1}return e.fromXml=function(t){var c=t.getAttribute("sequence"),p=null===c?Number.MAX_VALUE:parseInt(c,10),f=t.querySelector("VideoClicks"),h=t.querySelectorAll("MediaFile"),v=t.querySelector("Linear"),y=t.querySelector("TrackingEvents"),m=y?y.querySelectorAll("Tracking"):[],g=n.listToArray(t.querySelectorAll("Impression")),E=t.querySelectorAll("ViewableImpression"),A=t.querySelectorAll("Error"),w=t.querySelector("Extensions"),T=t.querySelector("Description"),_=t.querySelectorAll("Icons Icon"),b=t.querySelector("AdParameters"),S=new e,k=t.querySelector("InLine")||t.querySelector("Inline"),C=t.querySelector("Wrapper");if(k&&C)throw new r["default"]("InLine and Wrapper node in one Ad section",r["default"].INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION);if(k)S.type="InLine";else{if(!C)throw new r["default"]("No InLine or Wrapper node",r["default"].NO_INLINE_OR_WRAPPER_NODE);S.type="Wrapper"}S.sequence=p,S.adParameters=b?a.readElementText(b):"";var P=t.querySelector("VASTAdTagURI");if(a.isElementSet(P)&&(S.vastAdTagUri=a.readElementText(P)),h)for(var O=0,I=h.length;O<I;O++)S.mediaFiles.push(u["default"].fromXml(h[O]));if(f){var D=a.readElementText(f.querySelector("ClickThrough"));D&&(S.clickThrough=D)}if(f)for(var V=f.querySelectorAll("ClickTracking"),O=0,I=V.length;O<I;O++)S.addEventUrl("clickThrough",a.readElementText(V[O]));for(var O=0,I=m.length;O<I;O++){var M=a.readAttr(m[O],"event");S.addEventUrl(M,a.readElementText(m[O])),"progress"===M&&(S.progressOffset=i.parseVASTTime(a.readAttr(m[O],"offset","")))}var N=[];g.forEach(function(e){S.addEventUrl("impression",a.readElementText(e));var t=e.getAttribute("id");t&&l.indexOf(t)>-1&&N.indexOf(t)===-1&&N.push(t)}),S.isDirectVPAID=N.length===l.length;for(var O=0,I=E.length;O<I;O++)for(var R=E[O].querySelectorAll("Viewable"),x=0,L=R.length;x<L;x++){var F=a.readElementText(R[x]);S.addEventUrl("viewable",F)}for(var O=0,I=A.length;O<I;O++)S.addEventUrl("error",a.readElementText(A[O]));for(var O=0,I=_.length;O<I;O++)S.icons.push(d["default"].fromXml(_[O]));if(w){for(var U=w.querySelectorAll('Extension[type="dwell"]'),O=0,I=U.length;O<I;O++)S.addEventUrl("dwell",a.readElementText(U[O]));for(var B=w.querySelectorAll('Extension[type="skipAd"]'),O=0,I=B.length;O<I;O++)S.addEventUrl("skip",a.readElementText(B[O]));var j=w.querySelector('Extension[type="skipTime"]');a.isElementSet(j)&&(S.skipTime=i.parseVASTTime(a.readElementText(j)),S.skipTime>180&&(S.skipTime=0));var W=w.querySelector('Extension[type="controls"]');W&&(S.imhoParams=s["default"].fromXML(W));var H=w.querySelector('Extension[type="isClickable"]');a.isElementSet(H)&&(S.isClickable="0"!==a.readElementText(H));var G=w.querySelectorAll('Extension[type="comscore"]');if(G.length)for(var O=0;O<G.length;O++)S.comscoreLinks.push(a.readElementText(G[O]));var q=w.querySelector('Extension[type="weborama"]');if(q){var X=q.querySelector("wbStatData");if(X){var K=a.readElementText(X);K&&(S.weborama={wbStatData:K})}}}if(a.isElementSet(T)&&(S.description=a.readElementText(T)),v){var D=a.readAttr(v,"skipoffset","").trim();if(""!==D){var z=i.parseVASTTime(D);isNaN(z)?o.trackError(new r["default"](D,r["default"].INCORRECT_SKIPOFFSET_FORMAT),S.trackingEvents.error):S.skipOffset=z}var Y=v.querySelector("Duration");Y&&(S.duration=i.parseVASTTime(a.readElementText(Y)))}return S},e.prototype.addEventUrl=function(e,t){t&&e&&(this.trackingEvents[e]||(this.trackingEvents[e]=[]),this.trackingEvents[e].push(t))},e.prototype.merge=function(e){e.mediaFiles.length&&this.mediaFiles.concat(e.mediaFiles);for(var t in e.trackingEvents)e.trackingEvents.hasOwnProperty(t)&&(this.trackingEvents[t]?this.trackingEvents[t]=this.trackingEvents[t].concat(e.trackingEvents[t]):this.trackingEvents[t]=e.trackingEvents[t]);this.clickThrough||(this.clickThrough=e.clickThrough),isNaN(this.skipTime)&&(this.skipTime=e.skipTime),isNaN(this.skipOffset)&&(this.skipOffset=e.skipOffset),this.isClickable=this.isClickable||e.isClickable,isNaN(this.progressOffset)&&(this.progressOffset=e.progressOffset),this.comscoreLinks=this.comscoreLinks.concat(e.comscoreLinks),this.adParameters||(this.adParameters=e.adParameters),isNaN(this.duration)&&(this.duration=e.duration),this.sequence===Number.MAX_VALUE&&(this.sequence=e.sequence),this.isDirectVPAID=this.isDirectVPAID||e.isDirectVPAID},e.prototype.hasMedia=function(){return Boolean(this.mediaFiles&&this.mediaFiles.length)},e}();t["default"]=c}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(e){return Array.prototype.slice.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.listToArray=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(45)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.resetSkipDelay=!1,this.showCountDown=!0,this.showSoundButton=!0,this.showLabel=!0}return e.fromXML=function(t){var n=new e,o=t.querySelector('control[id="skipbtn"]');o&&(n.resetSkipDelay="0"===r.readAttr(o,"layout"));var i=t.querySelector('control[id="countdown"]');i&&(n.showCountDown="0"!==r.readAttr(i,"layout"));var a=t.querySelector('control[id="soundbtn"]');a&&(n.showSoundButton="0"!==r.readAttr(a,"layout"));var s=t.querySelector('control[id="adlabel"]');return s&&(n.showLabel="0"!==r.readAttr(s,"layout")),n},e}();t["default"]=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(45)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.fromXml=function(t){var n=new e;return n.width=parseInt(r.readAttr(t,"width",0),10),n.height=parseInt(r.readAttr(t,"height",0),10),n.bitrate=parseInt(r.readAttr(t,"bitrate",0),10),n.delivery=r.readAttr(t,"delivery"),n.type=r.readAttr(t,"type"),n.isVpaid="VPAID"===r.readAttr(t,"apiFramework"),n.source=r.readElementText(t),n},e}();t["default"]=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(45)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.fromXml=function(t){var n=t.querySelector("StaticResource"),o=new e;return o.src=r.readElementText(n),o.program=r.readAttr(t,"program"),o.xPosition=parseInt(r.readAttr(t,"xPosition",0),10),o.yPosition=parseInt(r.readAttr(t,"yPosition",0),10),o.width=parseInt(r.readAttr(t,"width",0),10),o.height=parseInt(r.readAttr(t,"height",0),10),o},e}();t["default"]=n}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}]}function r(e){return e==t.eventsMap.AdImpression?"{{protocol}}//{{domain}}.solution.weborama.fr/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}":e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}.solution.weborama.fr/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}.solution.weborama.fr/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}"}function n(e,t){for(var r in t)t.hasOwnProperty(r)&&(e=e.replace(new RegExp("{{"+r+"}}","g"),t[r]));return e}function o(e){(new Image).src=e}t.prototype.version=function(){console.log("[Viewability Observer JS] 2017.07.31")},t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!=typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var r=this.realWindow;r.parent!==r;){if(r.parent.document.domain!==r.document.domain){this.position=t.X_FRAME;break}r=r.parent}}catch(n){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,i,a){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(i),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=a,this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!=typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(i=0;i<s.length;i++)if(s[i]){var u=s[i].split(":");e[u[0]]=2!=u.length||("undefined"!=typeof e[u[0]]?isNaN(parseInt(u[1],10))?e[u[0]]:parseInt(u[1],10):u[1])}}}catch(d){}this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),o(n(r(this.getPosition()),this.adParameters));for(var l in t.eventsMap)t.eventsMap.hasOwnProperty(l)&&a.subscribe(this.onVPAIDEvent.bind(this,l),l);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return o(n(r(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdStarted"!=e&&"AdPlaying"!=e||(this.updater=setInterval(t.updateTime.bind(this),t.DELAY)),"AdVideoComplete"==e&&0<this.customParams.pg){var i=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);i.state===t.VIEWABLE&&o(n(r("AdVideoCompleteMRC"),this.adParameters))}"AdClickThru"==e&&0<this.customParams.cet&&(i=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime(),0<i&&o(n(r("AdVideoClick"+parseInt(i,10)),this.adParameters))),"AdPaused"==e&&clearInterval(this.updater),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)&&(i=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),o(n(r(t.eventsMap[e]),this.adParameters)),i.state&&o(n(r(e+i.state),this.adParameters)))},t.prototype.stop=function(){if(clearInterval(this.updater),t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)o(n(r(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters))},t.prototype.getViewAbility=function(r,n){if(this.intersectionSupport)return t.match(this.hasFocus(),n,this.intersectionRatio,r);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var o=this.realWindow,i=this.rootElement.getBoundingClientRect(),a=t.calculateArea(i,o);try{for(;o!==e.top;)var s=o.name||(o.name="wb-"+Math.round(1e6*Math.random()).toString(16)),o=o.parent,i=o.frames[s].frameElement.getBoundingClientRect(),a=Math.min(t.calculateArea(i,o),a)}catch(u){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),n,a,r)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var i=[],a=0;a<this.observerData.length;a++){var s=this.observerData[a];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?o(n(r(s.name+t.VIEWABLE),this.adParameters)):i.push(s)}this.observerData=i},t.match=function(e,r,n,o){var i=t.NOT_VIEWABLE;return(e||!r)&&n>=o&&(i=t.VIEWABLE),{state:i,focus:e,percent:n}},t.calculateArea=function(e,t){var r=e.width*e.height,n=e.width,o=e.height;return 0>e.top&&(o+=e.top),e.bottom>t.innerHeight&&(o-=e.bottom-t.innerHeight),0>e.left&&(n+=e.left),e.right>t.innerWidth&&(n-=e.right-t.innerWidth),n*o/r},e.WBViewAbility=t}(window)},function(e,t){!function(){var e="encodeURIComponent",t="decodeURIComponent",r="createElement",n="location",o="getElementsByTagName",i="getElementById",a="length",s="script",u="indexOf",d="charAt",l="href",c="replace",p="split",f="substr",h="src",v="http",y="addEventListener",m="queryParams",g="optionalParams",E="ns_ad_",A=E+"pcd",w=E+"vs",T="defaultTrackingURL",_="handlerForVCECallback",b="loader",S="playerNode",k="playerId",C="partnerId",P="notInited",O=window,I=document;ns_=O.ns_||{},ns_.vce_vh=ns_.vce_vh||{},ns_.vce_vh.player_cache=ns_.vce_vh.player_cache||{},ns_.vce_vh.Loader=ns_.vce_vh.Loader||function(E){function T(e){return e?e[c](/\s+/g,""):e}function _(){try{return E.ns_.vce_v.R&&E.ns_.vce_v&&E.ns_}catch(e){return!1}}function b(){var e=T(de);return e=e+"#cs_vp_sv="+Q+"&ns_ad_pa="+j+"&ns_swfid="+Z}function S(e){var t=q[r](s);t.type="text/javascript",t[h]=e,t.async=!0;try{var n=q[i](W);if(!n)return;n[y]("loadedmetadata",function(e){n.duration&&(ee[A]=Math.floor(n.duration)),n.volume&&(ee[w]=0!==n.volume)},!1),n.parentNode.insertBefore(t,n.nextSibling)}catch(o){}}function k(e){var t={};return t=M(e),!t[A]&&ee[A]&&(t[A]=ee[A]),!t[w]&&ee[w]&&(t[w]=ee[w]),t}function C(e,t,r){t||(t=G),e&&t&&(r?X.push({eventType:e,eventURL:t,optionalParams:r}):X.push({eventType:e,eventURL:t,optionalParams:{}}),setTimeout(P,0))}function P(){var e=0,t=X[a],r={},n="",o={};if(K>z){for(e=0;e<t;++e)O(X[e]);return void(X[a]=0)}if(!_())return K+=Y,void setTimeout(P,Y);if(0!==t){for(e=0;e<t;++e){try{r=V(X[e].eventURL),n=r.url+"?"+D(r[m]),N(),o=k(X[e][g]),o.bufferTime=K}catch(i){}try{
E.ns_.vce_v.Tr(Z,X[e].eventType,n,D(o))}catch(i){}}X[a]=0}}function O(e){var t,r,n={},o="",i={},a="v_"+e.eventType,s=e[g],u={},d="";try{n=V(e.eventURL),o=n.url;for(t in n[m])i[t]=n[m][t];if(r=i.c2+""+i.c3,i.ns__t=(new Date).getTime(),r in le?(i.ns__p=le[r],$=le[r]):le[r]=i.ns__t,i.ns_ad_vevent=a,i.ns_ad_event="video",i.ns_ad_pa=j,$)for(var l=["c3","ca3","cb3","cc3","cd3","ce3","cf3","cg3","ch3","ci3","cj3","ck3","cl3"],c=0;c<l.length;c++){var p=l[c],f=p.replace(/3/gi,1);i.hasOwnProperty(p)&&3==i[f]&&(i[p]="_e0_"+i[p])}if(i.cs_vp_sv=Q,i.ns_ad_wt=K,s){N(),u=k(s);for(var h in u)i[h]=u[h]}d=o+"?"+D(i),R(d)}catch(v){}}function I(e){var t,r=0;for(t in e)e[t]&&r++;return r}function D(e){var t="";for(var r in e)""!==t&&(t+="&"),t+=r+"="+oe(e[r]).replace(/-/g,"%2D").replace(/@/g,"%40").replace(/\*/g,"%2A");return t}function V(e){var r="",n={},o="",i=0,s=[];if(!e)return{url:null,queryParams:null};if(e=T(e),0!==e[u](v)&&(e=v+"://"+e),ae[d](4)!=e[d](4)&&(e=ae+("s"==ae[d](4)?e[f](7):e[f](9))),e[u]("?")!=-1){if(r=e[f](0,e[u]("?")),o=e[f](e[u]("?")+1),o[u]("&")!=-1){n={},o=o.replace(/&amp;/gi,"&").replace(/amp;/gi,"");var l=o[p]("&");for(i=0;i<l[a];++i)if(s=l[i][p]("="),2==s[a])try{n[E[t](s[0])]=E[t](s[1])}catch(c){n[s[0]]=s[1]}}else if(s=o[p]("="),2==s[a]){n={};try{n[E[t](s[0])]=E[t](s[1])}catch(c){n[s[0]]=s[1]}}}else r=e;return{url:r,queryParams:n}}function M(e){var r,n={};if(!e)return{};if(0===I(e))return{};for(r in e)try{n[E[t](r)]=E[t](e[r])}catch(o){r=E[t](r),n[r]=e[r]}return n}function N(){if(W){var e=q[i](W);!ee[A]&&e.duration&&(ee[A]=e.duration),!ee[w]&&e.volume&&(ee[w]=0!==e.volume)}}function R(e){var t=new Image;t.src=e}function x(){var e=q[i](W),t=!1;if(!e)return!1;for(var r=0,n=ne[a];r<n;++r)t=t||e==q[ne[r]],q[ne[r]]&&(t=t||e==q[ne[r]][o]("video")[0]),t=t||te;return t}function L(e,t){H&&H(e,t)}function F(){var e,t=J+"evt",r=J+"fs";W&&(e=q[i](W)),e&&(e[t]=L,e[r]=x)}function U(e){H=e}function B(e,t,r){j=e;var n=q[i](t);n&&(n[Z]=function(){return!0},W=t,S(b()),F(),r&&(G=r),n[y]("webkitbeginfullscreen",function(){te=!0},!1),n[y]("webkitendfullscreen",function(){te=!1},!1))}var j,W,H,G,q=E.document,X=[],K=0,z=5e3,Y=500,J="cs_",Q="1.1601.05h",Z=J+Math.floor(1e13*Math.random()+1),$=0,ee={},te=!1,re="FullscreenElement",ne=["ms"+re,"webkit"+re,"mozFullScreenElement","fullscreenElement","o"+re,"khtml"+re],oe=E[e]?E[e]:escape,ie=oe(q[n]&&q[n][l]?q[n][l]:q.URL),ae="http"+("s"==ie[d](4)?"s://s":"://"),se=ae+"b.scorecardresearch.com",ue="/c2/vce4v/",de=se+ue+"rs.js",le={};return{init:B,addCallback:U,trackEvent:C}},ns_.vce_vh.boot=ns_.vce_vh.boot||function(){function e(e){if(e.length<2)return!1;var t=e[0];if("string"==typeof t&&t.trim().length>0){for(var r=1,n=e.length;r<n;++r){var o=e[r];if(o.constructor!==Object||!o[S]&&!o[k])break}if(r===n)return!0}return!1}function t(){if(e(arguments)){for(var t=arguments,r=t[0].trim(),a=1,s=t.length;a<s;++a){var u,d,l,c=t[a],p=!!(c[k]&&c[k].trim().length>0);if(p?(u=c[k].trim(),l=O,d=I[i][u]):(d=c[S],l=d.ownerDocument.defaultView||d.ownerDocument.parentWindow,u=d.id),u.trim().length<=0)return;var f=new o(l);n[u]={},d&&(n[u][S]=d),n[u][b]=f,n[u][C]=r,n[u][T]=c[T]?c[T].trim():null,n[u][_]=c[_],n[u][P]=!0}for(var h in n)if(n.hasOwnProperty(h)){var v=n[h],y=v[C];if(v[P]){var m=v[_];m&&m instanceof Function&&v[b].addCallback(m),v[b].init(y,h,v[T]),v[P]=!1}}}}function r(e,t,r,o){var i="",a="";if(o)i="string"==typeof o?o.trim():o.id;else for(var s in n)if(n.hasOwnProperty(s)){i=s;break}i&&n[i]&&(a=t?t:n[i][T],n[i][b].trackEvent(e,a,r))}var n=ns_.vce_vh.player_cache,o=ns_.vce_vh.Loader;return{init:t,redirect:r}}(),O.cs_vce_=O.cs_vce_||{init:ns_.vce_vh.boot.init,trackEvent:ns_.vce_vh.boot.redirect}}()},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t,r(36),r(90)],o=function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.blockInfo=t,this.adConfig=r.extractAdConfig(e)}return e.prototype.loadAd=function(e,t,r){var o=this.blockInfo.getBlockByAdType(e);return o?n.loadAd(this.adConfig,o).then(function(e){return"function"==typeof t&&t(e.getFirstMediaAd()),e})["catch"](function(e){return"function"==typeof r&&r(e),i.reject(e)}):i.reject(new Error("No ads of a given type: "+e))},e}();t["default"]=o}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREROLL_THRESHOLD=1}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o,i="undefined"==typeof Promise?r(2).Promise:Promise;n=[r,t],o=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.state="stop",this.watchers=[],this.passed=0,this.timeouts=[],this.isDestroyed=!1}return e.prototype.add=function(e){var t=this;return new i(function(r){if(!t.isDestroyed){var n=t.getNow();"run"===t.state?(t.watchers.push({time:e,handler:r}),t.timeouts.push(setTimeout(function(){return t.fire(r)},e-n))):e<=n?r():t.watchers.push({time:e,handler:r})}})},e.prototype.start=function(){var e=this;this.isDestroyed||"stop"===this.state&&(this.lastStart=Date.now(),this.watchers.forEach(function(t){var r=t.time,n=t.handler;return e.timeouts.push(setTimeout(function(){return e.fire(n)},r-e.passed))}),this.state="run")},e.prototype.stop=function(){"run"===this.state&&(this.passed=this.getNow(),this.timeouts.forEach(clearTimeout),this.timeouts=[],this.state="stop")},e.prototype.destroy=function(){this.stop(),this.isDestroyed=!0},e.prototype.fire=function(e){this.watchers=this.watchers.filter(function(t){var r=t.handler;return r!==e}),e()},e.prototype.getNow=function(){return"run"===this.state?Date.now()-this.lastStart+this.passed:this.passed},e}();t["default"]=r}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t,r(41),r(48),r(65),r(91),r(49)],o=function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=[i["default"].INVALID_VAST_XML,i["default"].NO_AD_SECTION,i["default"].NO_VAST_ID_TAG_URI,i["default"].VAST_LOAD_TIMEOUT,i["default"].WRAPPER_LOAD_TIMEOUT,i["default"].WRAPPER_MAX_COUNT_LIMIT,i["default"].INCORRECT_SKIPOFFSET_FORMAT,i["default"].ADFOX_VAST_LOAD_ERROR,i["default"].VAST_LOAD_ERROR,r["default"].VIDEO_TIMEOUT,r["default"].VPAID_START_TIMEOUT,r["default"].BUFFER_FULL_TIMEOUT,o["default"].NO_AD_TO_DISPLAY,o["default"].SKIP_DELAY_WITHOUT_SKIPOFFSET,n["default"].PARSE_ERROR,n["default"].TIMEOUT_ERROR,n["default"].PARAMS_ERROR],u=function(){function e(e){var t=this;this.displayController=e,this.adStarted=!1,this.paused=!0,e.onBeforeAdStart.add(function(e){var r=e.adType;if("function"==typeof t.onBeforeAdStart)try{t.onBeforeAdStart(r)}catch(n){console.error(n)}}),e.onAdStart.add(function(e){var r=e.adType;if("function"==typeof t.onAdStart)try{t.onAdStart(r)}catch(n){console.error(n)}}),e.onAdMediaStart.add(function(e){var r=e.adType;if(t.adStarted=!0,!t.paused&&"function"==typeof t.onPlayStateChanged)try{t.onPlayStateChanged(!0)}catch(n){console.error(n)}if("function"==typeof t.onAdMediaStart)try{t.onAdMediaStart(r)}catch(n){console.error(n)}}),e.onAdMediaEnd.add(function(e){var r=e.adType;if("function"==typeof t.onComplete)try{t.onComplete()}catch(n){console.error(n)}if("function"==typeof t.onAdMediaEnd)try{t.onAdMediaEnd(r)}catch(n){console.error(n)}if("function"==typeof t.onPlayStateChanged)try{t.onPlayStateChanged(!1)}catch(n){console.error(n)}}),e.onAdEnd.add(function(e){var r=e.adType;if("function"==typeof t.onAdEnd)try{t.onAdEnd(r)}catch(n){console.error(n)}}),e.onClickThrough.add(function(){if("function"==typeof t.onClickThrough)try{t.onClickThrough()}catch(e){console.error(e)}}),e.onAdSkipped.add(function(e){var r=e.adType;if("function"==typeof t.onAdSkipped)try{t.onAdSkipped(r)}catch(n){console.error(n)}}),e.on(["resume","start"],function(){if(t.paused=!1,t.adStarted&&"function"==typeof t.onPlayStateChanged)try{t.onPlayStateChanged(!0)}catch(e){console.error(e)}}).on("pause",function(){if(t.paused=!0,"function"==typeof t.onPlayStateChanged)try{t.onPlayStateChanged(!1)}catch(e){console.error(e)}}),this.addStartErrorHandler()}return e.prototype.play=function(e){void 0===e&&(e=0===this.displayController.getVolume()),this.displayController.setMuted(e),this.displayController.play()},e.prototype.resume=function(){this.play()},e.prototype.pause=function(){this.displayController.pause()},e.prototype.skip=function(e){this.displayController.skip(e)},e.prototype.clickThrough=function(){this.displayController.clickThrough()},e.prototype.getPaused=function(){return this.displayController.getPaused()},e.prototype.getMuted=function(){return 0===this.displayController.getVolume()},e.prototype.getVolume=function(){return this.displayController.getVolume()},e.prototype.setVolume=function(e){this.displayController.setVolume(e)},e.prototype.getDuration=function(){return this.displayController.duration},e.prototype.getAdWidth=function(){return this.displayController.getAdWidth()},e.prototype.getAdHeight=function(){return this.displayController.getAdHeight()},e.prototype.getCurrentTime=function(){return this.displayController.currentTime},e.prototype.getCurrentClickability=function(){return this.displayController.getCurrentClickability()},e.prototype.destroy=function(){this.displayController.destroy()},e.prototype.addStartErrorHandler=function(){var e=this;if(a.DisplayController.isJs(this.displayController))this.displayController.on("error",function(t){if(t.id&&s.indexOf(t.id)>-1&&"function"==typeof e.onStartError)try{e.onStartError(t)}catch(r){console.error(r)}});else{var t=!1;this.displayController.on({start:function(){return t=!0}}),this.displayController.onAdEnd.add(function(r){var n=r.error;if(!t&&"function"==typeof e.onStartError&&n)try{e.onStartError(n)}catch(o){console.error(o)}})}},e}();t["default"]=u}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(e,t,r){var n,o;n=[r,t],o=function(e,t){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=r}.apply(t,n),!(void 0!==o&&(e.exports=o))}]));